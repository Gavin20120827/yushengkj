var MINI_PAGE=function(){"use strict";function e(){function e(e){var t,n=1,r=0;if(e)for(n=0,t=e.length-1;t>=0;t--)r=e.charCodeAt(t),n=(n<<6&268435455)+r+(r<<14),r=266338304&n,n=0!=r?n^r>>21:n;return n}return(""+e(document.referrer)+(new Date).getTime()+e(document.cookie)).substr(0,32)}function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function n(e,t){return t={exports:{}},e(t,t.exports),t.exports}function r(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*ot;case"days":case"day":case"d":return n*it;case"hours":case"hour":case"hrs":case"hr":case"h":return n*rt;case"minutes":case"minute":case"mins":case"min":case"m":return n*nt;case"seconds":case"second":case"secs":case"sec":case"s":return n*tt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return undefined}}}}function i(e){return e>=it?Math.round(e/it)+"d":e>=rt?Math.round(e/rt)+"h":e>=nt?Math.round(e/nt)+"m":e>=tt?Math.round(e/tt)+"s":e+"ms"}function o(e){return a(e,it,"day")||a(e,rt,"hour")||a(e,nt,"minute")||a(e,tt,"second")||e+" ms"}function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}function s(){}function l(e,t,n){function r(){o.parentNode&&o.parentNode.removeChild(o),window[c]=s,a&&clearTimeout(a)}function i(){window[c]&&r()}"function"==typeof t&&(n=t,t={}),t||(t={});var o,a,l=t.prefix||"__jp",c=t.name||l+Et++,u=t.param||"callback",f=null!=t.timeout?t.timeout:6e4,d=encodeURIComponent,p=document.getElementsByTagName("script")[0]||document.head;return f&&(a=setTimeout(function(){r(),n&&n(new Error("Timeout"))},f)),window[c]=function(e){Ct("jsonp got",e),r(),n&&n(null,e)},e+=(~e.indexOf("?")?"&":"?")+u+"="+d(c),e=e.replace("?&","?"),Ct('jsonp req "%s"',e),o=document.createElement("script"),o.src=e,p.parentNode.insertBefore(o,p),i}function c(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function f(e){return"[object Object]"===Object.prototype.toString.call(e)}function d(e){return"[object String]"===Object.prototype.toString.call(e)}function p(e){if(u(e))return 0===e.length;if(d(e))return""===e;if(f(e)){var t=0;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){t++;break}return 0===t}return!1}function h(e){return null===e||e===undefined}function m(){this.reqTimes=1}function _(){this.pn=1}function g(){this.pn=1,this.group=1,this.adstk={}}function v(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document,t=arguments[1];if(document.getElementByClassName)return e.getElementByClassName(t);for(var n=e.getElementsByTagName("*"),r=[],i=0;i<n.length;i++)y(n[i],t)&&r.push(n[i]);return r}function y(e,t){for(var n=e.className.split(/\s+/),r=0;r<n.length;r++)if(n[r]==t)return!0;return!1}function b(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function w(e,t,n){var r=this;if(window.addEventListener)return e.addEventListener(t,function(e){n.call(r,e)},!1);e.attachEvent("on"+t,function(){var e=window.event;e.target=e.srcElement,n.call(r,e)})}function k(e,t,n){var r=document.createElement("div");r.className="component news";var i=document.createElement("a");i.className="feed-link",O(i,n.linkTarget);var o=document.createElement("p"),a={},s="";switch(t){case"ad":s=e&&e.img,o.innerText=e&&e.title||e.desc,i.href=e&&e.curl,r.setAttribute("data-link",e&&e.curl),a=Pt.fill(e);break;case"feed":s=e&&e.img,o.innerText=e&&e.title,i.href=e&&e.curl,r.setAttribute("data-link",e&&e.curl),a=Tt.fill(e);break;case"windowAd":s=e&&e.img,o.innerText=e&&e.title||e.desc,i.href=e&&e.curl,r.setAttribute("data-link",e&&e.curl),a=Ft.fill(e,e.res),r.setAttribute("data-group",a.group)}return i.appendChild(F(s,t,!0)),i.appendChild(o),r.appendChild(i),r.setAttribute("data-clk",a.clk),r.setAttribute("data-pv",a.pv),r}function x(e,t,n){var r=document.createElement("div");r.className="component sm";var i=document.createElement("a");i.className="feed-link",O(i,n.linkTarget);var o=document.createElement("span");o.className="title";var a={},s="";switch(t){case"ad":s=e&&e.img,o.innerText=e&&e.title||e.desc,i.href=e&&e.curl,r.setAttribute("data-link",e&&e.curl),a=Pt.fill(e);break;case"feed":s=e&&e.img,o.innerText=e&&e.title,i.href=e&&e.curl,r.setAttribute("data-link",e&&e.curl),a=Tt.fill(e);break;case"windowAd":s=e&&e.img,o.innerText=e&&e.title||e.desc,i.href=e&&e.curl,r.setAttribute("data-link",e&&e.curl),a=Ft.fill(e,e.res),x.setAttribute("data-group",a.group)}return i.appendChild(F(s,t,!0)),i.appendChild(o),r.appendChild(i),r.setAttribute("data-clk",a.clk),r.setAttribute("data-pv",a.pv),r}function C(e,t,n){var r=document.createElement("div");r.className="component xs";var i=document.createElement("a");i.className="feed-link",O(i,n.linkTarget),document.createElement("img").setAttribute("alt","\u56fe\u7247");var o=document.createElement("p"),a={},s="";switch(t){case"ad":s=e&&e.img,o.innerText=e&&e.title||e.desc,i.href=e&&e.curl,r.setAttribute("data-link",e&&e.curl),a=Pt.fill(e);break;case"feed":s=e&&e.img,o.innerText=e&&e.title,i.href=e&&e.curl,r.setAttribute("data-link",e&&e.curl),a=Tt.fill(e);break;case"windowAd":s=e&&e.img,o.innerText=e&&e.title||e.desc,i.href=e&&e.curl,r.setAttribute("data-link",e&&e.curl),a=Ft.fill(e,e.res),r.setAttribute("data-group",a.group)}return i.appendChild(F(s,t,!0)),i.appendChild(o),r.appendChild(i),r.setAttribute("data-clk",a.clk),r.setAttribute("data-pv",a.pv),r}function j(e,t,n){var r=document.createElement("div");r.className="component normal";var i=document.createElement("a");i.className="feed-link",O(i,n.linkTarget);var o=document.createElement("span");o.className="title";var a={},s="",l=!0;switch(["style3","style4"].join(",").indexOf(n.layout)>-1&&(l=!1),t){case"ad":s=e&&e.img,o.innerText=e&&e.title||e.desc,i.href=e&&e.curl,r.setAttribute("data-link",e&&e.curl),a=Pt.fill(e);break;case"feed":s=e&&e.img,o.innerText=e&&e.title||"",i.href=e&&e.curl,r.setAttribute("data-link",e&&e.curl),a=Tt.fill(e);break;case"windowAd":s=e&&e.img,o.innerText=e&&e.title||e.desc,i.href=e&&e.curl,r.setAttribute("data-link",e&&e.curl),a=Ft.fill(e,e.res),r.setAttribute("data-group",a.group)}return i.appendChild(F(s,t,l)),i.appendChild(o),r.appendChild(i),r.setAttribute("data-clk",a.clk),r.setAttribute("data-pv",a.pv),r}function E(e,t,n){var r=document.createElement("div");r.className="component large";var i=document.createElement("a");i.className="feed-link",O(i,n.linkTarget);var o=document.createElement("p"),a={},s="",l=!0;switch(["style3","style4"].join(",").indexOf(n.layout)>-1&&(l=!1),t){case"ad":s=e&&e.img,o.innerText=e&&e.title||e.desc,i.href=e&&e.curl,r.setAttribute("data-link",e&&e.curl),a=Pt.fill(e);break;case"feed":s=e&&e.img,o.innerText=e&&e.title,i.href=e&&e.curl,r.setAttribute("data-link",e&&e.curl),a=Tt.fill(e);break;case"windowAd":s=e&&e.img,o.innerText=e&&e.title||e.desc,i.href=e&&e.curl,r.setAttribute("data-link",e&&e.curl),a=Ft.fill(e,e.res),r.setAttribute("data-group",a.group)}return i.appendChild(o),i.appendChild(F(s,t,l)),r.appendChild(i),r.setAttribute("data-clk",a.clk),r.setAttribute("data-pv",a.pv),r}function T(e,t,n){var r=["style3","style4"],i=3;b(r,n.layout)>-1&&(i=4);var o=!0;["style3","style4"].join(",").indexOf(n.layout)>-1&&(o=!1);var a=document.createElement("div");a.className="component multiple";var s=document.createElement("a");s.className="feed-link",O(s,n.linkTarget);var l=document.createDocumentFragment(),c=e.assets;if(h(c[0].imgw)||c[0].imgw!==c[0].imgh)for(var u=Math.min(c.length,i),f=0;f<u;f++)if(f===u-1){var d=F(c[f].img,t,o);d.setAttribute("data-link",c[f].curl),d.className=d.className+" last",l.appendChild(d)}else{var p=F(c[f].img,"",o);p.setAttribute("data-link",c[f].curl),l.appendChild(p)}else for(var m=0;m<i;m++)if(m===i-1){var _=A(c[m],"ad",o);_.className=_.className+" last",l.appendChild(_)}else l.appendChild(A(c[m],"",o));var g={};g=Tt.fill(e);var v=document.createElement("p");switch(v.innerText=e&&e.title||e.desc,s.href=e&&e.curl,a.setAttribute("data-link",e&&e.curl),s.appendChild(v),s.appendChild(l),a.appendChild(s),t){case"ad":g=Pt.fill(e);break;case"windowAd":g=Ft.fill(e),a.setAttribute("data-group",g.group)}return a.setAttribute("data-clk",g.clk),a.setAttribute("data-pv",g.pv),a}function P(){var e=document.createElement("div");return e.className="load-more",e}function F(e,t,n){var r=document.createElement("div");if(r.className="img",r.style.backgroundImage="url("+e+")",!0===n&&(r.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(\n      src='"+e+"',\n      sizingMethod='scale')"),"ad"===t||"windowAd"===t){var i=document.createElement("span");i.className="ad",i.innerText="\u5e7f\u544a",r.appendChild(i)}return r}function A(e,t,n){var r=document.createElement("div");r.className="windowImg",r.setAttribute("data-link",e.curl),r.style.backgroundImage="url("+e.img+")",!0===n&&(r.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(\n    src='"+e.img+"',\n    sizingMethod='scale')");var i=document.createElement("div");if(i.className="window-item__title",i.innerText=e.desc,r.appendChild(i),"ad"===t||"windowAd"===t){var o=document.createElement("span");o.className="ad",o.innerText="\u5e7f\u544a",r.appendChild(o)}return r}function O(e,t){switch(t){case"null":break;case"":e.setAttribute("target","");break;default:e.setAttribute("target","_blank")}}function S(e,t){if(!e)return!1;var n=We.mainDiv,r=n.getBoundingClientRect().top,i=n.getBoundingClientRect().bottom,o=document.documentElement.clientHeight;i=Math.min(i,o);var a=e.getBoundingClientRect().top,s=e.getBoundingClientRect().bottom;return a<i&&a>=r||s<i&&a>=r}function R(e){var t=new Image,n="mediav_sio_log_"+Math.floor(2147483648*Math.random()).toString(36);window[n]=t,t.onload=t.onerror=t.onabort=function(){t.onload=t.onerror=t.onabort=null,window[n]=null,t=null},t.src=e}function N(e){for(var t=v(We.miniPage[e].contentDiv,"component"),n=0;n<t.length;n++){var r=t[n],i=r.getAttribute("data-pv");if(i&&S(r)){for(var o=i.split(","),a=0;a<o.length;a++){R(o[a])}r.removeAttribute("data-pv")}var s=r.getAttribute("data-group");if(!h(s)&&S(r)){if(!h(Ft.adstk[s])&&!p(Ft.adstk[s])){for(var l=0;l<Ft.adstk[s].length;l++){R(Ft.adstk[s][l])}Ft.adstk[s]=null}r.removeAttribute("data-group")}}}function D(e,t){if(u(e))for(var n=0;n<e.length;n++)t.call(null,e[n],n);else{if(!f(e))return;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r])}}function I(e){var t=Lt.call(e,Vt),n=e[Vt];try{e[Vt]=undefined;var r=!0}catch(o){}var i=Bt.call(e);return r&&(t?e[Vt]=n:delete e[Vt]),i}function M(e){return qt.call(e)}function L(e){return null==e?e===undefined?Qt:$t:Wt&&Wt in Object(e)?Ht(e):zt(e)}function B(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function V(e){if(!Gt(e))return!1;var t=Xt(e);return t==Kt||t==Yt||t==Jt||t==Zt}function H(e){return!!rn&&rn in e}function U(e){if(null!=e){try{return sn.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function q(e){return!(!Gt(e)||on(e))&&(en(e)?mn:un).test(ln(e))}function z(e,t){return null==e?undefined:e[t]}function $(e,t){var n=gn(e,t);return _n(n)?n:undefined}function Q(e,t,n){"__proto__"==t&&bn?bn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function W(e,t){return e===t||e!==e&&t!==t}function X(e,t,n){var r=e[t];Cn.call(e,t)&&kn(r,n)&&(n!==undefined||t in e)||wn(e,t,n)}function G(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):undefined;l===undefined&&(l=e[s]),i?wn(n,s,l):jn(n,s,l)}return n}function J(e){return e}function K(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Y(e,t,n){return t=Fn(t===undefined?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Fn(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Pn(e,this,s)}}function Z(e){return function(){return e}}function ee(e){var t=0,n=0;return function(){var r=In(),i=Dn-(r-n);if(n=r,i>0){if(++t>=Nn)return arguments[0]}else t=0;return e.apply(undefined,arguments)}}function te(e,t){return Bn(An(e,t,Tn),e+"")}function ne(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Hn}function re(e){return null!=e&&Un(e.length)&&!en(e)}function ie(e,t){return!!(t=null==t?zn:t)&&("number"==typeof e||$n.test(e))&&e>-1&&e%1==0&&e<t}function oe(e,t,n){if(!Gt(n))return!1;var r=typeof t;return!!("number"==r?qn(n)&&Qn(t,n.length):"string"==r&&t in n)&&kn(n[t],e)}function ae(e){return Vn(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:undefined,a=i>2?n[2]:undefined;for(o=e.length>3&&"function"==typeof o?(i--,o):undefined,a&&Wn(n[0],n[1],a)&&(o=i<3?undefined:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function se(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Gn)}function le(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function ce(e){return null!=e&&"object"==typeof e}function ue(e){return Yn(e)&&Xt(e)==Zn}function fe(){return!1}function de(e){return Yn(e)&&Un(e.length)&&!!Nr[Xt(e)]}function pe(e){return function(t){return e(t)}}function he(e,t){var n=sr(e),r=!n&&or(e),i=!n&&!r&&cr(e),o=!n&&!r&&!i&&Vr(e),a=n||r||i||o,s=a?Kn(e.length,String):[],l=s.length;for(var c in e)!t&&!Ur.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Qn(c,l))||s.push(c);return s}function me(e,t){return function(n){return e(t(n))}}function _e(e){if(!Jn(e))return Qr(e);var t=[];for(var n in Object(e))Xr.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ge(e){return qn(e)?qr(e):Gr(e)}function ve(e){return!h(e)&&(!!(isFinite(e.feedNum)&&isFinite(e.adNum)&&u(e.indexArr))&&(e.feedNum>0&&e.adNum>0))}function ye(e){var t={defaultConf:Ge[e],firstPageConf:Je[e]?Je[e]:ei({},Ge[e])},n=We.options;if(n.customInsertConfig&&n.customInsertConfig[e]){var r=n.customInsertConfig[e];for(var i in t)t.hasOwnProperty(i)&&ve(r[i])&&D(["feedNum","adNum","indexArr"],function(e){t[i][e]=r[i][e]})}return t}function be(e){var t=ye("style2"),n=void 0;n=0===We.miniPage[e].loadedCount?t.firstPageConf:t.defaultConf,We.miniPage[e].lock=!0,Ce(e,n).then(function(t){for(var n=document.createDocumentFragment(),r=0;r<t.length;r++){var i=t[r],o=i.feedMark||"ad";n.appendChild(k(i,o,We.options.tabs[e]))}We.miniPage[e].contentDiv.appendChild(n),We.miniPage[e].loadedCount+=t.length,We.miniPage[e].lock=!1,N(We.currentIndex)})}function we(e){var t=ye("style3"),n=void 0;n=0===We.miniPage[e].loadedCount?t.firstPageConf:t.defaultConf,We.miniPage[e].lock=!0,Ce(e,n).then(function(t){var r=(We.miniPage[e].leftLoaded&&We.miniPage[e].leftLoaded,We.miniPage[e].rightLoaded?We.miniPage[e].rightLoaded:0),i=0,o=0;t.length>n.leftMin?(o=Math.min(t.length-n.leftMin,n.rightMax-r),i=t.length-o):(i=t.length,o=0);var a=v(We.miniPage[e].contentDiv,"fixed")[0];a||(a=document.createElement("div"),a.className="fixed",We.miniPage[e].contentDiv.appendChild(a),We.miniPage[e].fixedDiv=a);var s=v(We.miniPage[e].contentDiv,"feed")[0];s||(s=document.createElement("div"),s.className="feed",We.miniPage[e].contentDiv.appendChild(s));for(var l=document.createDocumentFragment(),c=0;c<i;c++){var u=t[c];u.feedMark;l.appendChild(je(u,e))}for(var f=document.createDocumentFragment(),d=i;d<i+o;d++){var p=t[d],h="feed"===p.feedMark?"feed":"ad";f.appendChild(x(p,h,We.options.tabs[e]))}s.appendChild(l),a.appendChild(f),We.miniPage[e].rightLoaded?We.miniPage[e].rightLoaded+=o:We.miniPage[e].rightLoaded=o,We.miniPage[e].loadedCount+=t.length,We.miniPage[e].lock=!1,N(We.currentIndex)})}function ke(e){var t=ye("style4"),n=void 0;n=0===We.miniPage[e].loadedCount?t.firstPageConf:t.defaultConf,We.miniPage[e].lock=!0,Ce(e,n).then(function(t){var r=(We.miniPage[e].leftLoaded&&We.miniPage[e].leftLoaded,We.miniPage[e].rightLoaded?We.miniPage[e].rightLoaded:0),i=0,o=0;t.length>n.leftMin?(o=Math.min(t.length-n.leftMin,n.rightMax-r),i=t.length-o):(i=t.length,o=0);var a=v(We.miniPage[e].contentDiv,"fixed")[0];a||(a=document.createElement("div"),a.className="fixed",We.miniPage[e].contentDiv.appendChild(a),We.miniPage[e].fixedDiv=a);var s=v(We.miniPage[e].contentDiv,"feed")[0];s||(s=document.createElement("div"),s.className="feed",We.miniPage[e].contentDiv.appendChild(s));for(var l=document.createDocumentFragment(),c=0;c<i;c++){var u=t[c];u.feedMark;l.appendChild(je(u,e))}for(var f=document.createDocumentFragment(),d=i;d<i+o;d++){var p=t[d],h="feed"===p.feedMark?"feed":"ad";f.appendChild(C(p,h,We.options.tabs[e]))}s.appendChild(l),a.appendChild(f),We.miniPage[e].rightLoaded?We.miniPage[e].rightLoaded+=o:We.miniPage[e].rightLoaded=o,We.miniPage[e].loadedCount+=t.length,We.miniPage[e].lock=!1,N(We.currentIndex)})}function xe(e){var t=void 0,n=ye("style1");t=0===We.miniPage[e].loadedCount?n.firstPageConf:n.defaultConf,We.miniPage[e].lock=!0,Ce(e,t).then(function(t){var n=We.miniPage[e].remaining;n&&(t.unshift(n),We.miniPage[e].remaining=null);for(var r=[],i=[],o=0,a=-1,s=0;s<t.length;s++)"ad"===t[s].feedMark&&(a=s,o++),i.push(t[s]),2===i.length?(1===o&&3==t[a].type&&s<t.length-1&&"feed"===t[s+1].feedMark&&(i.push(t[s+1]),s++),r.push(i),i=[],o=0,a=-1):s===t.length-1&&(We.miniPage[e].remaining=t[s]);for(var l=document.createDocumentFragment(),c=We.miniPage[e].preAdPos?We.miniPage[e].preAdPos:"right",u=0;u<r.length;u++){var f=r[u];if(2===f.length){var d=document.createElement("div");d.className="four-in-one";for(var p=document.createDocumentFragment(),h=document.createDocumentFragment(),m=0;m<f.length;m++){var _=f[m],g=_.feedMark||"ad";"feed"===_.feedMark?p.appendChild(j(_,"feed",We.options.tabs[e])):h.appendChild(j(_,g,We.options.tabs[e]))}"left"==c?(d.appendChild(p),d.appendChild(h),c="right"):(d.appendChild(h),d.appendChild(p),c="left"),l.appendChild(d)}else{var v=document.createElement("div");v.className="three-in-one";var y=document.createElement("div");y.className="single";var b=document.createElement("div");b.className="double";for(var w=0;w<f.length;w++)"feed"===f[w].feedMark?b.appendChild(je(f[w],e)):y.appendChild(je(f[w],e));y.style.height=41+7.5*We.fontSize+"px","left"===c?(v.appendChild(b),v.appendChild(y),c="right"):(v.appendChild(y),v.appendChild(b),c="left"),l.appendChild(v)}}We.miniPage[e].preAdPos=c,We.miniPage[e].contentDiv.appendChild(l),We.miniPage[e].loadedCount+=t.length,We.miniPage[e].lock=!1,N(We.currentIndex)})}function Ce(e,t){var n=We.options.tabs[e],r=Tt.next(t.feedNum,n.showid,We.options,n.c).then(function(e){for(var t=e.ads,n=[],r=0;r<t.length;r++)t[r].img&&(t[r].feedMark="feed",t[r].type=1,n.push(t[r]));return n}),i=Pt.next(t.adNum,n.showid,We.miniPage[e].adPage++).then(function(e){var t=[];return e.ads&&(t=e.ads),t});return et.all([r,i]).then(function(e){for(var n=e[0],r=e[1],i=n.slice(0),o=t.indexArr,a=0;a<r.length;a++){var s=o[a];s<=i.length?i.splice(s,0,r[a]):i.push(r[a])}var l=t.feedNum+t.adNum;if(0===n.length)return i;for(;i.length<l;)i=i.concat(n);return i.slice(0,l)})}function je(e,t){var n=e&&e.type,r=e.feedMark||"ad";switch(n+""){case"1":return j(e,r,We.options.tabs[t]);case"2":return T(e,r,We.options.tabs[t]);case"3":return E(e,r,We.options.tabs[t]);default:return j(e,r,We.options.tabs[t])}}function Ee(e,t){var n={title:e.title,img:e.img,curl:e.curl,linkTarget:"_blank",adTag:""};return"ad"===t&&(n.adTag='<span class="ad">\u5e7f\u544a</span>'),_o(go,n)}function Te(e){We.options=e;var t=document.createElement("div");t.className="mini-page",t.id="mini-page",e.shouldDisplayTabs&&t.appendChild(Pe(e.tabs)),We.fontSize=20*e.w/740,document.body.style.fontSize=We.fontSize+"px",t.style.width=e.w+"px",t.style.height=e.h+"px",Ae(e),We.mainDiv=Fe(e),t.appendChild(We.mainDiv),document.body.appendChild(t)}function Pe(e){var t=document.createElement("div");t.className="nav";for(var n=0;n<e.length;n++){var r=e[n],i=document.createElement("a"),o=r.c||"";i.setAttribute("data-c",o),r.tabName?i.innerText=r.tabName:i.innerText=$e[r.c].label?$e[r.c].label:"\u5176\u5b83",0==n&&(i.className="active"),t.appendChild(i)}return t}function Fe(e){var t=document.createElement("div");if(t.className="main",t.id="main",t.style.width=e.w+"px",t.style.height=e.h-40+"px",e.shouldDisplayTabs)for(var n=0;n<e.tabs.length;n++){var r=e.tabs[n],i=document.createElement("div");We.miniPage[n].contentDiv=i;var o=Ye[r.layout]||"";i.className="content "+o,n>0&&(i.style.display="none"),i.appendChild(P()),t.appendChild(i)}else{var a=document.createElement("div");We.miniPage[0].contentDiv=a;var s=Ye[e.tabs[0].layout]||"";a.className="content "+s,a.appendChild(P()),t.appendChild(a),t.style.height="100%"}return t}function Ae(e){var t=[];t=e.shouldDisplayTabs?e.tabs:e.tabs.slice(0,1);for(var n=0;n<t.length;n++){var r=t[n];We.miniPage.push({c:r.c,feed:[],feedIndex:0,ads:[],adsIndex:0,scrollTop:0,loadedCount:0,adPage:1})}We.currentIndex=0}function Oe(e){Re(0,!0)}function Se(e){var t=We.options.tabs[e];We.miniPage[e];switch(t.layout){case"style1":xe(e);break;case"style2":be(e);break;case"style3":we(e);break;case"style4":ke(e);break;default:return}}function Re(e){switch(We.options.tabs[e].presentation){case"default":Se(e);break;case"iframe":Ne(e);break;case"js":if(!0===We.miniPage[e].hasExecuted)return;We.miniPage[e].hasExecuted=!0;var t=We.miniPage[e].contentDiv,n=We.options.tabs[e].render||function(){};try{n.call(this,t,We.options.tabs[e])}catch(r){}default:return}}function Ne(e){var t=We.options.tabs[e].src,n=We.options.w,r=We.options.h-50,i='<iframe \n    src="'+t+'" \n    width="'+n+'" \n    height="'+r+'" \n    frameborder="0" \n    scrolling="no"></iframe>';We.miniPage[e].contentDiv.innerHTML=i}function De(e){var t="QIHOO_FEED_CSS",n=document.getElementById(t);if(null==n){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.id=t,null==r&&(r=document.createElement("head"),document.appendChild(r)),r.appendChild(i),n=document.getElementById(t)}n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function Ie(e){return"symbol"==typeof e||Yn(e)&&Xt(e)==ko}function Me(e){if("number"==typeof e)return e;if(xo(e))return Co;if(Gt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Gt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(jo,"");var n=To.test(e);return n||Po.test(e)?Fo(e.slice(2),n?2:8):Eo.test(e)?Co:+e}function Le(e,t,n){function r(t){var n=d,r=p;return d=p=undefined,v=t,m=e.apply(r,n)}function i(e){return v=e,_=setTimeout(s,t),y?r(e):m}function o(e){var n=e-g,r=e-v,i=t-n;return b?Ro(i,h-r):i}function a(e){var n=e-g,r=e-v;return g===undefined||n>=t||n<0||b&&r>=h}function s(){var e=wo();if(a(e))return l(e);_=setTimeout(s,o(e))}function l(e){return _=undefined,w&&d?r(e):(d=p=undefined,m)}function c(){_!==undefined&&clearTimeout(_),v=0,d=g=p=_=undefined}function u(){return _===undefined?m:l(wo())}function f(){var e=wo(),n=a(e);if(d=arguments,p=this,g=e,n){if(_===undefined)return i(g);if(b)return _=setTimeout(s,t),r(g)}return _===undefined&&(_=setTimeout(s,t)),m}var d,p,h,m,_,g,v=0,y=!1,b=!1,w=!0;if("function"!=typeof e)throw new TypeError(Oo);return t=Ao(t)||0,Gt(n)&&(y=!!n.leading,b="maxWait"in n,h=b?So(Ao(n.maxWait)||0,t):h,w="trailing"in n?!!n.trailing:w),f.cancel=c,f.flush=u,f}function Be(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(Do);return Gt(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),No(e,t,{leading:r,maxWait:t,trailing:i})}function Ve(){function e(e){var t=/msie [6|7|8]/i.test(navigator.userAgent);return e.button===(t?1:0)}var t=v(document,"nav")[0];t&&(t.onmouseover=function(e){var n=e||window.event,r=n.target||n.srcElement,i=t.getElementsByTagName("a"),o=v(document,"content");if("a"===r.tagName.toLowerCase()){var a=We.mainDiv.scrollTop;We.miniPage[We.currentIndex].scrollTop=a;for(var s=0;s<i.length;s++)if(i[s]===r){i[s].className="active",o[s].style.display="block";var l=We.miniPage[s].scrollTop;if(We.miniPage[We.currentIndex].scrollTop=a,We.currentIndex=s,We.mainDiv.scrollTop=l,0===We.miniPage[s].loadedCount){var c=We.miniPage[We.currentIndex].lock;1!=c&&Re(s,!0)}else Lo()}else i[s].className="",o[s].style.display="none"}});for(var n=We.mainDiv,r=v(document,"load-more"),i=We.options.shouldDisplayTabs?r.length:1,o=0;o<i;o++)!function(e){r[e].onmouseover=function(t){!function(t){setTimeout(function(){r[t].style.display="none";var i=setInterval(function(){e!==We.currentIndex&&clearInterval(i),n.scrollTop>=n.offsetHeight&&clearInterval(i),n.scrollTop+=10},10)},300)}(e)}}(o);var a=n.offsetHeight,s=Io(function(){if("default"===We.options.tabs[We.currentIndex].presentation){var e=n.scrollTop,t=We.miniPage[We.currentIndex].contentDiv.offsetHeight;if((a+e)/t>.95){1!=We.miniPage[We.currentIndex].lock&&(Re(We.currentIndex,!1),Lo())}}},200);Io(function(){var e=We.miniPage[We.currentIndex].fixedDiv;if(e){var t=n.scrollTop;e.style.top=t+"px"}},10);w(n,"scroll",Lo),w(n,"scroll",s),w(n,"scroll",function(){"none"!==r[We.currentIndex].style.display&&n.scrollTop>0&&(r[We.currentIndex].style.display="none")}),n.onmousedown=function(t){var n=t||window.event,r=n.target||n.srcElement;e(n)?(We.clickStartTime=(new Date).getTime(),We.clickEventTarget=r):n.preventDefault?n.preventDefault():n.returnValue=!1},n.onmouseup=function(t){var n=t||window.event,r=n.target||n.srcElement;if(e(n)){var i=(new Date).getTime();if(r===We.clickEventTarget)for(var o=r,a=null,s="";"body"!==o.tagName.toLowerCase();){var l=o.tagName.toLowerCase(),c=o.getAttribute("data-clk");if("a"===l&&"feed-link"===o.className&&(a=o),!s&&o.getAttribute("data-link")&&(s=o.getAttribute("data-link")),"div"===l&&c){if(null==a)return;var u=c.split(","),f=o.getBoundingClientRect(),d=Math.floor(Math.max(0,n.clientX-f.left)),p=Math.floor(Math.max(0,n.clientY-f.top)),h=Math.floor(Math.max(0,f.right-f.left)),m=Math.floor(Math.max(0,f.bottom-f.top)),_=s||o.getAttribute("data-link");a.href=_.replace("__EVENT_TIME_START__",We.clickStartTime).replace("__EVENT_TIME_END__",i).replace("__OFFSET_X__",d).replace("__OFFSET_Y__",p).replace("__ADSPACE_W__",h).replace("__ADSPACE_H__",m);for(var g=0;g<u.length;g++){var v=u[g];v=v.replace("__EVENT_TIME_START__",We.clickStartTime).replace("__EVENT_TIME_END__",i).replace("__OFFSET_X__",d).replace("__OFFSET_Y__",p).replace("__ADSPACE_W__",h).replace("__ADSPACE_H__",m),He(v)}break}o=o.parentNode}}},n.oncontextmenu=function(){return!1};var l=No(function(){N(We.currentIndex)},100);window.onresize=function(){l()}}function He(e){var t=new Image,n="mediav_sio_log_"+Math.floor(2147483648*Math.random()).toString(36);window[n]=t,t.onload=t.onerror=t.onabort=function(){t.onload=t.onerror=t.onabort=null,window[n]=null,t=null},t.src=e}function Ue(){return window!=window.parent}function qe(e){if(!u(e))return!1;for(var t=0;t<e.length;t++)if(e[t].showid===Ke)return!0;return!1}function ze(e){if(!Ue()||qe(e.tabs)){if(e.w<Xe.width.min||e.w>Xe.width.max)return void document.write("mini\u9875\u5bbd\u5ea6\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u5bbd\u5ea6\u6700\u5c0f\u503c\u4e3a"+Xe.width.min+"\uff0c\u6700\u5927\u503c\u4e3a"+Xe.width.max+"\uff0c\u8bf7\u4fee\u6539\u540e\u91cd\u8bd5\u3002");if(e.h<Xe.height.min||e.h>Xe.height.max)return void document.write("mini\u9875\u9ad8\u5ea6\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u9ad8\u5ea6\u6700\u5c0f\u503c\u4e3a"+Xe.height.min+"\uff0c\u6700\u5927\u503c\u4e3a"+Xe.height.max+"\uff0c\u8bf7\u4fee\u6539\u540e\u91cd\u8bd5\u3002");if(e.w/e.h<Xe.ratio)return void document.write("mini\u9875\u5bbd\u9ad8\u6bd4\u4f8b\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u5bbd\u9ad8\u6bd4\u4f8b\u4e0d\u5f97\u5c0f\u4e8e"+Xe.ratio+"\uff0c\u8bf7\u4fee\u6539\u540e\u91cd\u8bd5\u3002");De(Bo),De(".fixed{height:"+(e.h-40-10)+"px;}"),Te(e),De(".fixed{\n    left:"+(23*We.fontSize+15)+"px;\n    right:auto;\n  }");/msie 6/i.test(navigator.userAgent)||De(".fixed{\n      position:fixed;\n      top:40px;\n    }");var t=[];t=e.shouldDisplayTabs?e.tabs:e.tabs.slice(0,1),Oe(t),Ve()}}Date.now||(Date.now=function(){return+new Date});var $e={youlike:{value:1,label:"\u63a8\u8350"},fun:{value:3,label:"\u5a31\u4e50"},car:{value:4,label:"\u6c7d\u8f66"},estate:{value:5,label:"\u623f\u4ea7"},travel:{value:6,label:"\u65c5\u6e38"},science:{value:7,label:"\u79d1\u6280"},economy:{value:8,label:"\u8d22\u7ecf"},sport:{value:9,label:"\u4f53\u80b2"},international:{value:10,label:"\u56fd\u9645"},domestic:{value:11,label:"\u56fd\u5185"},healthcare:{value:12,label:"\u517b\u751f"},food:{value:13,label:"\u7f8e\u98df"},game:{value:14,label:"\u6e38\u620f"},education:{value:15,label:"\u6559\u80b2"},stock:{value:16,label:"\u80a1\u7968"},refuteRumour:{value:17,label:"\u8f9f\u8c23"},child:{value:18,label:"\u80b2\u513f"},video:{value:21,label:"\u89c6\u9891"},social:{value:22,label:"\u793e\u4f1a"},militery:{value:23,label:"\u519b\u4e8b"},funny:{value:24,label:"\u641e\u7b11"},springFestival:{value:25,label:"\u6625\u8282"},health:{value:26,label:"\u5065\u5eb7"},gossip:{value:27,label:"\u660e\u661f\u516b\u5366"},variety:{value:28,label:"\u7efc\u827a"},fashion:{value:29,label:"\u65f6\u5c1a"},history:{value:30,label:"\u5386\u53f2"},emotion:{value:31,label:"\u60c5\u611f"},zodiac:{value:32,label:"\u661f\u5ea7"},probe:{value:33,label:"\u79d1\u5b66\u63a2\u7d22"}},Qe="QIHOO__WEB__SO__";window[Qe]||(window[Qe]={},window[Qe].UID=e(),window[Qe].displayShowId=[],window[Qe].miniPage=[]);var We=window[Qe],Xe={width:{min:400,max:850},height:{min:400,max:650},ratio:1},Ge={style1:{indexArr:[0,3,6,9,12,15],feedNum:12,adNum:6},style2:{indexArr:[0,3,6,9,12,15,18,21],feedNum:16,adNum:8},style3:{indexArr:[0,3,6,9,12],feedNum:10,adNum:5,leftMin:7,rightMax:8},style4:{indexArr:[0,3,6,9,12,15],feedNum:11,adNum:6,leftMin:7,rightMax:10}},Je={style3:{indexArr:[0,2,4,8,11],feedNum:10,adNum:5,leftMin:7,rightMax:8},style4:{indexArr:[0,2,4,8,11,14],feedNum:11,adNum:6,leftMin:7,rightMax:10}},Ke="lw5rur",Ye={style1:"style-1",style2:"style-2",style3:"style-3",style4:"style-4"},Ze="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},et=n(function(e,t){!function(t){e.exports=function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return i(n||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){t.exports=function(e){function t(e){var t=new n(e),r=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),r}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,n,r){function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new u(16),this._normalQueue=new u(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=c}function o(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function a(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function s(e){this._normalQueue._pushOne(e),this._queueTick()}var l;try{throw new Error}catch(t){l=t}var c=e("./schedule"),u=e("./queue"),f=e("./util");i.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},
i.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},i.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},f.hasDevTools?(i.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},i.prototype.invoke=function(e,t,n){this._trampolineEnabled?a.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},i.prototype.settlePromises=function(e){this._trampolineEnabled?s.call(this,e):this._schedule(function(){e._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=a,i.prototype.settlePromises=s),i.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=l},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){t.exports=function(e,t,n,r){var i=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},l=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var c=n(o),u=new e(t);u._propagateFrom(this,1);var f=this._target();if(u._setBoundTo(c),c instanceof e){var d={promiseRejectionQueued:!1,promise:u,target:f,bindingPromise:c};f._then(t,a,undefined,u,d),c._then(s,l,undefined,u,d),u._setOnCancel(c)}else u._resolveCallback(f);return u},e.prototype._setBoundTo=function(e){e!==undefined?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=e("./promise")();o.noConflict=r,t.exports=o},{"./promise":22}],5:[function(e,t,n){var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}t.exports=function(t){function n(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var i="Object "+s.classString(e)+" has no method '"+s.toString(n)+"'";throw new t.TypeError(i)}return r}function r(e){return n(e,this.pop()).apply(e,this)}function i(e){return e[this]}function o(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var a,s=e("./util"),l=s.canEvaluate;s.isIdentifier;t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(r,undefined,undefined,t,undefined)},t.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=o;else if(l){var r=a(e);t=null!==r?r:i}else t=i;return this._then(t,undefined,undefined,e,undefined)}}},{"./util":36}],6:[function(e,t,n){t.exports=function(t,n,r,i){var o=e("./util"),a=o.tryCatch,s=o.errorObj,l=t._async;t.prototype["break"]=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===undefined||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,undefined))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=undefined},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(e!==undefined)if("function"==typeof e){if(!t){var r=a(e).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),l.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){t.exports=function(t){function n(e,n,s){return function(l){var c=s._boundValue();e:for(var u=0;u<e.length;++u){var f=e[u];if(f===Error||null!=f&&f.prototype instanceof Error){if(l instanceof f)return o(n).call(c,l)}else if("function"==typeof f){var d=o(f).call(c,l);if(d===a)return d;if(d)return o(n).call(c,l)}else if(r.isObject(l)){for(var p=i(f),h=0;h<p.length;++h){var m=p[h];if(f[m]!=l[m])continue e}return o(n).call(c,l)}}return t}}var r=e("./util"),i=e("./es5").keys,o=r.tryCatch,a=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(e,t,n){t.exports=function(e){function t(){this._trace=new t.CapturedTrace(r())}function n(){if(i)return new t}function r(){var e=o.length-1;return e>=0?o[e]:undefined}var i=!1,o=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){this._trace!==undefined&&(this._trace._promiseCreated=null,o.push(this._trace))},t.prototype._popContext=function(){if(this._trace!==undefined){var e=o.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=n,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,l=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=l,i=!1},i=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(e,n,r){n.exports=function(n,r){function i(e,t){return{promise:t}}function o(){return!1}function a(e,n,r){var i=this;try{e(n,r,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+B.toString(e));i._attachCancellationCallback(e)})}catch(t){return t}}function s(e){if(!this._isCancellable())return this;var t=this._onCancel();t!==undefined?B.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function l(){return this._onCancelField}function c(e){this._onCancelField=e}function u(){this._cancellationParent=undefined,this._onCancelField=undefined}function f(e,t){if(0!=(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;n===undefined&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function d(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function p(){var e=this._boundTo;return e!==undefined&&e instanceof n?e.isFulfilled()?e.value():undefined:e}function h(){this._trace=new S(this._peekContext())}function m(e,t){if(V(e)){var n=this._trace;if(n!==undefined&&t&&(n=n._parent),n!==undefined)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=C(e);B.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),B.notEnumerableProp(e,"__stackCleaned__",!0)}}}function _(e,t,n,r,i){if(e===undefined&&null!==t&&J){if(i!==undefined&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),l=k(s),c=l.length-1;c>=0;--c){var u=l[c];if(!U.test(u)){var f=u.match(q);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(l.length>0)for(var d=l[0],c=0;c<s.length;++c)if(s[c]===d){c>0&&(a="\n"+s[c-1]);break}}var p="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(p,!0,t)}}function g(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),v(n)}function v(e,t,r){if(ae.warnings){var i,o=new L(e);if(t)r._attachExtraTrace(o);else if(ae.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var a=C(o);o.stack=a.message+"\n"+a.stack.join("\n")}te("warning",o)||j(o,"",!0)}}function y(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function b(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function w(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var l=r[s];if(t[i]!==l)break;t.pop(),i--}t=r}}function k(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||z.test(r),o=i&&re(r);i&&!o&&(Q&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function x(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||z.test(r))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}function C(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?x(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:k(t)}}function j(e,t,n){if("undefined"!=typeof console){var r;if(B.isObject(e)){var i=e.stack;r=t+$(i,e)}else r=t+String(e);"function"==typeof D?D(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function E(e,n,r,i){var o=!1;try{"function"==typeof n&&(o=!0,"rejectionHandled"===e?n(i):n(r,i))}catch(t){M.throwLater(t)}"unhandledRejection"===e?te(e,r,i)||o||j(r,"Unhandled rejection "):te(e,i)}function T(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():B.toString(e);if(/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(t){}0===t.length&&(t="(empty array)")}return"(<"+P(t)+">, no stack trace)"}function P(e){return e.length<41?e:e.substr(0,38)+"..."}function F(){return"function"==typeof oe}function A(e){var t=e.match(ie);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function O(e,t){if(F()){for(var n,r,i=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,l=0;l<i.length;++l){var c=A(i[l]);if(c){n=c.fileName,a=c.line;break}}for(var l=0;l<o.length;++l){var c=A(o[l]);if(c){r=c.fileName,s=c.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(re=function(e){if(H.test(e))return!0;var t=A(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}}function S(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(e===undefined?0:e._length);oe(this,S),t>32&&this.uncycle()}var R,N,D,I=n._getDomain,M=n._async,L=e("./errors").Warning,B=e("./util"),V=B.canAttachTrace,H=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,U=/\((?:timers\.js):\d+:\d+\)/,q=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,z=null,$=null,Q=!1,W=!(0==B.env("BLUEBIRD_DEBUG")),X=!(0==B.env("BLUEBIRD_WARNINGS")||!W&&!B.env("BLUEBIRD_WARNINGS")),G=!(0==B.env("BLUEBIRD_LONG_STACK_TRACES")||!W&&!B.env("BLUEBIRD_LONG_STACK_TRACES")),J=0!=B.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(X||!!B.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},n.prototype._notifyUnhandledRejectionIsHandled=function(){E("rejectionHandled",R,undefined,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),E("unhandledRejection",N,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(e,t,n){return v(e,t,n||this)},n.onPossiblyUnhandledRejection=function(e){var t=I();N="function"==typeof e?null===t?e:B.domainBind(t,e):undefined},n.onUnhandledRejectionHandled=function(e){var t=I();R="function"==typeof e?null===t?e:B.domainBind(t,e):undefined};var K=function(){};n.longStackTraces=function(){if(M.haveItemsQueued()&&!ae.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ae.longStackTraces&&F()){var e=n.prototype._captureStackTrace,t=n.prototype._attachExtraTrace;ae.longStackTraces=!0,K=function(){if(M.haveItemsQueued()&&!ae.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=e,n.prototype._attachExtraTrace=t,r.deactivateLongStackTraces(),M.enableTrampoline(),ae.longStackTraces=!1},n.prototype._captureStackTrace=h,n.prototype._attachExtraTrace=m,r.activateLongStackTraces(),M.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return ae.longStackTraces&&F()};var Y=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return B.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!B.global.dispatchEvent(n)}}if("function"==typeof Event){var e=new Event("CustomEvent");return B.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!B.global.dispatchEvent(n)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),B.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!B.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),Z=function(){return B.isNode?function(){return process.emit.apply(process,arguments)}:B.global?function(e){var t="on"+e.toLowerCase(),n=B.global[t];return!!n&&(n.apply(B.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),ee={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:i},te=function(e){var n=!1;try{n=Z.apply(null,arguments)}catch(t){M.throwLater(t),n=!0}var r=!1;try{r=Y(e,ee[e].apply(null,arguments))}catch(t){M.throwLater(t),r=!0}return r||n};n.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?n.longStackTraces():!e.longStackTraces&&n.hasLongStackTraces()&&K()),"warnings"in e){var t=e.warnings;ae.warnings=!!t,J=ae.warnings,B.isObject(t)&&"wForgottenReturn"in t&&(J=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!ae.cancellation){if(M.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=u,n.prototype._propagateFrom=f,n.prototype._onCancel=l,n.prototype._setOnCancel=c,n.prototype._attachCancellationCallback=s,n.prototype._execute=a,ne=f,ae.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!ae.monitoring?(ae.monitoring=!0,n.prototype._fireEvent=te):!e.monitoring&&ae.monitoring&&(ae.monitoring=!1,n.prototype._fireEvent=o)),n},n.prototype._fireEvent=o,n.prototype._execute=function(e,n,r){try{e(n,r)}catch(t){return t}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(e){},n.prototype._attachCancellationCallback=function(e){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(e,t){};var ne=d,re=function(){return!1},ie=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;B.inherits(S,Error),r.CapturedTrace=S,S.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;i!==undefined;++r)t.push(i),i=i._parent;e=this._length=r;for(var r=e-1;r>=0;--r){var o=t[r].stack;n[o]===undefined&&(n[o]=r)}for(var r=0;r<e;++r){var a=t[r].stack,s=n[a];if(s!==undefined&&s!==r){s>0&&(t[s-1]._parent=undefined,t[s-1]._length=1),t[r]._parent=undefined,t[r]._length=1;var l=r>0?t[r-1]:this;s<e-1?(l._parent=t[s+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=undefined,l._length=1);for(var c=l._length+1,u=r-2;u>=0;--u)t[u]._length=c,c++;return}}}},S.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=C(e),n=t.message,r=[t.stack],i=this;i!==undefined;)r.push(k(i.stack.split("\n"))),i=i._parent;w(r),b(r),B.notEnumerableProp(e,"stack",y(n,r)),B.notEnumerableProp(e,"__stackCleaned__",!0)}};var oe=function(){var e=/^\s*at\s*/,n=function(e,t){return"string"==typeof e?e:t.name!==undefined&&t.message!==undefined?t.toString():T(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,z=e,$=n;var r=Error.captureStackTrace;return re=function(e){return H.test(e)},function(e,t){Error.stackTraceLimit+=6,r(e,t),Error.stackTraceLimit-=6}}var i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return z=/@/,$=n,Q=!0,function(e){e.stack=(new Error).stack};var o;try{throw new Error}catch(t){o="stack"in t}return"stack"in i||!o||"number"!=typeof Error.stackTraceLimit?($=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||t.name===undefined||t.message===undefined?T(t):t.toString()},null):(z=e,$=n,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(D=function(e){console.warn(e)},B.isNode&&process.stderr.isTTY?D=function(e,t){var n=t?"\x1b[33m":"\x1b[31m";console.warn(n+e+"\x1b[0m\n")}:B.isNode||"string"!=typeof(new Error).stack||(D=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var ae={warnings:X,longStackTraces:!1,cancellation:!1,monitoring:!1};return G&&n.longStackTraces(),{longStackTraces:function(){return ae.longStackTraces},warnings:function(){return ae.warnings},cancellation:function(){return ae.cancellation},monitoring:function(){return ae.monitoring},propagateFromFunction:function(){return ne},boundValueFunction:function(){return p},checkForgottenReturns:_,setBounds:O,warn:v,deprecated:g,CapturedTrace:S,fireDomEvent:Y,fireGlobalEvent:Z}}},{"./errors":12,"./util":36}],10:[function(e,t,n){t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype["return"]=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,undefined,undefined,{value:n},undefined)},e.prototype["throw"]=e.prototype.thenThrow=function(e){return this._then(n,undefined,undefined,{reason:e},undefined)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(undefined,n,undefined,{reason:e},undefined);var t=arguments[1],r=function(){throw t};return this.caught(e,r)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(undefined,t,undefined,{value:n},undefined);var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(e,t,n){t.exports=function(e,t){function n(){return o(this)}function r(e,n){return i(e,n,t,t)}var i=e.reduce,o=e.all;e.prototype.each=function(e){return i(this,e,t,0)._then(n,undefined,undefined,this,undefined)},e.prototype.mapSeries=function(e){return i(this,e,t,t)},e.each=function(e,r){return i(e,r,t,0)._then(n,undefined,undefined,e,undefined)},e.mapSeries=r}},{}],12:[function(e,t,n){function r(e,t){function n(r){if(!(this instanceof n))return new n(r);f(this,"message","string"==typeof r?r:t),f(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return u(n,Error),n}function i(e){if(!(this instanceof i))return new i(e);f(this,"name","OperationalError"),f(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(f(this,"message",e.message),f(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var o,a,s=e("./es5"),l=s.freeze,c=e("./util"),u=c.inherits,f=c.notEnumerableProp,d=r("Warning","warning"),p=r("CancellationError","cancellation error"),h=r("TimeoutError","timeout error"),m=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(t){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var _="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<_.length;++g)"function"==typeof Array.prototype[_[g]]&&(m.prototype[_[g]]=Array.prototype[_[g]]);s.defineProperty(m.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),m.prototype.isOperational=!0;var v=0;m.prototype.toString=function(){var e=Array(4*v+1).join(" "),t="\n"+e+"AggregateError of:\n";v++,e=Array(4*v+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];r=i.join("\n"),t+=r+"\n"}return v--,t},u(i,Error);var y=Error.__BluebirdErrorTypes__;y||(y=l({CancellationError:p,TimeoutError:h,OperationalError:i,RejectionError:i,AggregateError:m}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(e,t,n){var r=function(){return this===undefined}();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},l=function(e,t){return{value:e[t]}},c=function(e,t,n){return e[t]=n.value,e},u=function(e){return e},f=function(e){try{return Object(e).constructor.prototype}catch(t){return a}},d=function(e){try{return"[object Array]"===o.call(e)}catch(t){return!1}};t.exports={isArray:d,keys:s,names:s,defineProperty:c,getDescriptor:l,freeze:u,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},{}],15:[function(e,t,n){t.exports=function(t,n,r){function i(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function o(e){this.finallyHandler=e}function a(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function s(){return c.call(this,this.promise._target()._settledValue())}function l(e){if(!a(this,e))return d.e=e,d}function c(e){var i=this.promise,c=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?c.call(i._boundValue()):c.call(i._boundValue(),e);if(u===r)return u;if(u!==undefined){i._setReturnedNonUndefined();var p=n(u,i);if(p instanceof t){if(null!=this.cancelPromise){if(p._isCancelled()){var h=new f("late cancellation observer");return i._attachExtraTrace(h),d.e=h,d}p.isPending()&&p._attachCancellationCallback(new o(this))}return p._then(s,l,undefined,this,undefined)}}}return i.isRejected()?(a(this),d.e=e,d):(a(this),e)}var u=e("./util"),f=t.CancellationError,d=u.errorObj,p=e("./catch_filter")(r);return i.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){a(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,r){return"function"!=typeof e?this.then():this._then(n,r,undefined,new i(this,t,e),undefined)},t.prototype.lastly=t.prototype["finally"]=function(e){return this._passThrough(e,0,c,c)},t.prototype.tap=function(e){return this._passThrough(e,1,c)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,undefined,c);var r,i=new Array(n-1),o=0;for(r=0;r<n-1;++r){var a=arguments[r];if(!u.isObject(a))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+u.classString(a)));i[o++]=a}i.length=o;var s=arguments[r];return this._passThrough(p(i,s,this),1,undefined,c)},i}},{"./catch_filter":7,"./util":36}],16:[function(e,t,n){t.exports=function(t,n,r,i,o,a){function s(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=p(n[o])(e);if(r._popContext(),a===d){r._pushContext();var s=t.reject(d.e);return r._popContext(),s}var l=i(a,r);if(l instanceof t)return l}return null}function l(e,n,i,o){if(a.cancellation()){var s=new t(r),l=this._finallyPromise=new t(r);this._promise=s.lastly(function(){return l}),s._captureStackTrace(),s._setOnCancel(this)}else{(this._promise=new t(r))._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=undefined,this._yieldHandlers="function"==typeof i?[i].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}var c=e("./errors"),u=c.TypeError,f=e("./util"),d=f.errorObj,p=f.tryCatch,h=[];f.inherits(l,o),l.prototype._isResolved=function(){return null===this._promise},l.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},l.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),e=p(this._generator["return"]).call(this._generator,undefined),this._promise._popContext();else{var r=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),e=p(this._generator["throw"]).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},l.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=p(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},l.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=p(this._generator["throw"]).call(this._generator,e);this._promise._popContext(),this._continue(t)},l.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},l.prototype.promise=function(){return this._promise},l.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=undefined,this._promiseFulfilled(undefined)},l.prototype._continue=function(e){var n=this._promise;if(e===d)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var r=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof t)&&null===(o=s(o,this._yieldHandlers,this._promise)))return void this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0==(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(e,t){if("function"!=typeof e)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=l,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r(undefined,undefined,n,i),a=o.promise();return o._generator=t,o._promiseFulfilled(undefined),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new u("expecting a function but got "+f.classString(e));h.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new l(e,this),i=r.promise();return r._run(t.spawn),i}}},{"./errors":12,"./util":36}],17:[function(e,t,n){t.exports=function(t,n,r,i,o,a){var s=e("./util");s.canEvaluate,s.tryCatch,s.errorObj;t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var r}var i=[].slice.call(arguments);e&&i.pop();var r=new n(i).promise();return e!==undefined?r.spread(e):r}}},{"./util":36}],18:[function(e,t,n){t.exports=function(t,n,r,i,o,a){function s(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var i=c();this._callback=null===i?t:u.domainBind(i,t),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],p.invoke(this._asyncInit,this,undefined)}function l(e,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+u.classString(n));var a=0;if(i!==undefined){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+u.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(i.concurrency)));a=i.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(e,n,a,o).promise()}
var c=t._getDomain,u=e("./util"),f=u.tryCatch,d=u.errorObj,p=t._async;u.inherits(s,n),s.prototype._asyncInit=function(){this._init$(undefined,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),s=this._preservedValues,l=this._limit;if(n<0){if(n=-1*n-1,r[n]=e,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return r[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var c=this._promise,u=this._callback,p=c._boundValue();c._pushContext();var h=f(u).call(p,e,n,o),m=c._popContext();if(a.checkForgottenReturns(h,m,null!==s?"Promise.filter":"Promise.map",c),h===d)return this._reject(h.e),!0;var _=i(h,this._promise);if(_ instanceof t){_=_._target();var g=_._bitField;if(0==(50397184&g))return l>=1&&this._inFlight++,r[n]=_,_._proxy(this,-1*(n+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this._reject(_._reason()),!0):(this._cancel(),!0);h=_._value()}r[n]=h}return++this._totalResolved>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;o<n;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return l(this,e,t,null)},t.map=function(e,t,n,r){return l(e,t,n,r)}}},{"./util":36}],19:[function(e,t,n){t.exports=function(t,n,r,i,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var i=s(e).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t["try"]=function(e){if("function"!=typeof e)return i("expecting a function but got "+a.classString(e));var r=new t(n);r._captureStackTrace(),r._pushContext();var l;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],u=arguments[2];l=a.isArray(c)?s(e).apply(u,c):s(e).call(u,c)}else l=s(e)();var f=r._popContext();return o.checkForgottenReturns(l,f,"Promise.try",r),r._resolveFromSyncValue(l),r},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){function r(e){return e instanceof Error&&u.getPrototypeOf(e)===Error.prototype}function i(e){var t;if(r(e)){t=new c(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=u.keys(e),i=0;i<n.length;++i){var o=n[i];f.test(o)||(t[o]=e[o])}return t}return a.markAsOriginatingFromRejection(e),e}function o(e,t){return function(n,r){if(null!==e){if(n){var o=i(s(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var a=[].slice.call(arguments,1);e._fulfill(a)}else e._fulfill(r);e=null}}}var a=e("./util"),s=a.maybeWrapAsError,l=e("./errors"),c=l.OperationalError,u=e("./es5"),f=/^(?:name|message|stack|cause)$/;t.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){t.exports=function(t){function n(e,t){var n=this;if(!o.isArray(e))return r.call(n,e,t);var i=s(t).apply(n._boundValue(),[null].concat(e));i===l&&a.throwLater(i.e)}function r(e,t){var n=this,r=n._boundValue(),i=e===undefined?s(t).call(r,null):s(t).call(r,null,e);i===l&&a.throwLater(i.e)}function i(e,t){var n=this;if(!e){var r=new Error(e+"");r.cause=e,e=r}var i=s(t).call(n._boundValue(),e);i===l&&a.throwLater(i.e)}var o=e("./util"),a=t._async,s=o.tryCatch,l=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=r;t!==undefined&&Object(t).spread&&(o=n),this._then(o,i,undefined,this,e)}return this}}},{"./util":36}],22:[function(e,t,n){t.exports=function(){function n(){}function r(e,t){if(null==e||e.constructor!==i)throw new v("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new v("expecting a function but got "+p.classString(t))}function i(e){e!==b&&r(this,e),this._bitField=0,this._fulfillmentHandler0=undefined,this._rejectionHandler0=undefined,this._promise0=undefined,this._receiver0=undefined,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function o(e){this.promise._resolveCallback(e)}function a(e){this.promise._rejectCallback(e,!1)}function s(e){var t=new i(b);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var l,c=function(){return new v("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},u=function(){return new i.PromiseInspection(this._target())},f=function(e){return i.reject(new v(e))},d={},p=e("./util");l=p.isNode?function(){var e=process.domain;return e===undefined&&(e=null),e}:function(){return null},p.notEnumerableProp(i,"_getDomain",l);var h=e("./es5"),m=e("./async"),_=new m;h.defineProperty(i,"_async",{value:_});var g=e("./errors"),v=i.TypeError=g.TypeError;i.RangeError=g.RangeError;var y=i.CancellationError=g.CancellationError;i.TimeoutError=g.TimeoutError,i.OperationalError=g.OperationalError,i.RejectionError=g.OperationalError,i.AggregateError=g.AggregateError;var b=function(){},w={},k={},x=e("./thenables")(i,b),C=e("./promise_array")(i,b,x,f,n),j=e("./context")(i),E=j.create,T=e("./debuggability")(i,j),P=(T.CapturedTrace,e("./finally")(i,x,k)),F=e("./catch_filter")(k),A=e("./nodeback"),O=p.errorObj,S=p.tryCatch;return i.prototype.toString=function(){return"[object Promise]"},i.prototype.caught=i.prototype["catch"]=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),i=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!p.isObject(o))return f("Catch statement predicate: expecting an object but got "+p.classString(o));r[i++]=o}return r.length=i,e=arguments[n],this.then(undefined,F(r,e,this))}return this.then(undefined,e)},i.prototype.reflect=function(){return this._then(u,u,undefined,this,undefined)},i.prototype.then=function(e,t){if(T.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+p.classString(e);arguments.length>1&&(n+=", "+p.classString(t)),this._warn(n)}return this._then(e,t,undefined,undefined,undefined)},i.prototype.done=function(e,t){this._then(e,t,undefined,undefined,undefined)._setIsFinal()},i.prototype.spread=function(e){return"function"!=typeof e?f("expecting a function but got "+p.classString(e)):this.all()._then(e,undefined,undefined,w,undefined)},i.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:undefined,rejectionReason:undefined};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},i.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new C(this).promise()},i.prototype.error=function(e){return this.caught(p.originatesFromRejection,e)},i.getNewLibraryCopy=t.exports,i.is=function(e){return e instanceof i},i.fromNode=i.fromCallback=function(e){var t=new i(b);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=S(e)(A(t,n));return r===O&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},i.all=function(e){return new C(e).promise()},i.cast=function(e){var t=x(e);return t instanceof i||(t=new i(b),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},i.resolve=i.fulfilled=i.cast,i.reject=i.rejected=function(e){var t=new i(b);return t._captureStackTrace(),t._rejectCallback(e,!0),t},i.setScheduler=function(e){if("function"!=typeof e)throw new v("expecting a function but got "+p.classString(e));return _.setScheduler(e)},i.prototype._then=function(e,t,n,r,o){var a=o!==undefined,s=a?o:new i(b),c=this._target(),u=c._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),r===undefined&&0!=(2097152&this._bitField)&&(r=0!=(50397184&u)?this._boundValue():c===this?undefined:this._boundTo),this._fireEvent("promiseChained",this,s));var f=l();if(0!=(50397184&u)){var d,h,m=c._settlePromiseCtx;0!=(33554432&u)?(h=c._rejectionHandler0,d=e):0!=(16777216&u)?(h=c._fulfillmentHandler0,d=t,c._unsetRejectionIsUnhandled()):(m=c._settlePromiseLateCancellationObserver,h=new y("late cancellation observer"),c._attachExtraTrace(h),d=t),_.invoke(m,c,{handler:null===f?d:"function"==typeof d&&p.domainBind(f,d),promise:s,receiver:r,value:h})}else c._addCallbacks(e,t,s,r,f);return s},i.prototype._length=function(){return 65535&this._bitField},i.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},i.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},i.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},i.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},i.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},i.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},i.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},i.prototype._isFinal=function(){return(4194304&this._bitField)>0},i.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},i.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},i.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},i.prototype._setAsyncGuaranteed=function(){_.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},i.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];return t===d?undefined:t===undefined&&this._isBound()?this._boundValue():t},i.prototype._promiseAt=function(e){return this[4*e-4+2]},i.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},i.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},i.prototype._boundValue=function(){},i.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);i===undefined&&(i=d),this._addCallbacks(t,n,r,i,null)},i.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),o=e._receiverAt(t);o===undefined&&(o=d),this._addCallbacks(n,r,i,o,null)},i.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=null===i?e:p.domainBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=null===i?t:p.domainBind(i,t));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof e&&(this[a+0]=null===i?e:p.domainBind(i,e)),"function"==typeof t&&(this[a+1]=null===i?t:p.domainBind(i,t))}return this._setLength(o+1),o},i.prototype._proxy=function(e,t){this._addCallbacks(undefined,undefined,t,e,null)},i.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(c(),!1);var n=x(e,this);if(!(n instanceof i))return this._fulfill(e);t&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(c());var o=r._bitField;if(0==(50397184&o)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!=(33554432&o))this._fulfill(r._value());else if(0!=(16777216&o))this._reject(r._reason());else{var l=new y("late cancellation observer");r._attachExtraTrace(l),this._reject(l)}}},i.prototype._rejectCallback=function(e,t,n){var r=p.ensureErrorObject(e),i=r===e;if(!i&&!n&&T.warnings()){var o="a promise was rejected with a non-error: "+p.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&i),this._reject(e)},i.prototype._resolveFromExecutor=function(e){if(e!==b){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),r!==undefined&&t._rejectCallback(r,!0)}},i.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0==(65536&i)){r._pushContext();var o;t===w?n&&"number"==typeof n.length?o=S(e).apply(this._boundValue(),n):(o=O,o.e=new v("cannot .spread() a non-array: "+p.classString(n))):o=S(e).call(t,n);var a=r._popContext();i=r._bitField,0==(65536&i)&&(o===k?r._reject(n):o===O?r._rejectCallback(o.e,!1):(T.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},i.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},i.prototype._followee=function(){return this._rejectionHandler0},i.prototype._setFollowee=function(e){this._rejectionHandler0=e},i.prototype._settlePromise=function(e,t,r,o){var a=e instanceof i,s=this._bitField,l=0!=(134217728&s);0!=(65536&s)?(a&&e._invokeInternalOnCancel(),r instanceof P&&r.isFinallyHandler()?(r.cancelPromise=e,S(t).call(r,o)===O&&e._reject(O.e)):t===u?e._fulfill(u.call(r)):r instanceof n?r._promiseCancelled(e):a||e instanceof C?e._cancel():r.cancel()):"function"==typeof t?a?(l&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,r,o,e)):t.call(r,o,e):r instanceof n?r._isResolved()||(0!=(33554432&s)?r._promiseFulfilled(o,e):r._promiseRejected(o,e)):a&&(l&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(o):e._reject(o))},i.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,o=e.value;"function"==typeof t?n instanceof i?this._settlePromiseFromHandler(t,r,o,n):t.call(r,o,n):n instanceof i&&n._reject(o)},i.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},i.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=undefined,this._receiver0=undefined,this._settlePromise(r,e,i,t)},i.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=undefined},i.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=c();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():_.settlePromises(this))}},i.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return _.fatalError(e,p.isNode);(65535&t)>0?_.settlePromises(this):this._ensurePossibleRejectionHandled()}},i.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},i.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},i.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},i.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},i.defer=i.pending=function(){return T.deprecated("Promise.defer","new Promise"),{promise:new i(b),resolve:o,reject:a}},p.notEnumerableProp(i,"_makeSelfResolutionError",c),e("./method")(i,b,x,f,T),e("./bind")(i,b,x,T),e("./cancel")(i,C,f,T),e("./direct_resolve")(i),e("./synchronous_inspection")(i),e("./join")(i,C,x,b,_,l),i.Promise=i,i.version="3.5.1",e("./map.js")(i,C,f,x,b,T),e("./call_get.js")(i),e("./using.js")(i,f,x,E,b,T),e("./timers.js")(i,b,T),e("./generators.js")(i,f,b,x,n,T),e("./nodeify.js")(i),e("./promisify.js")(i,b),e("./props.js")(i,C,x,f),e("./race.js")(i,b,x,f),e("./reduce.js")(i,C,f,x,b,T),e("./settle.js")(i,C,T),e("./some.js")(i,C,f),e("./filter.js")(i,b),e("./each.js")(i,b),e("./any.js")(i),p.toFastProperties(i),p.toFastProperties(i.prototype),s({a:1}),s({b:2}),s({c:3}),s(1),s(function(){}),s(undefined),s(!1),s(new i(b)),T.setBounds(m.firstLineError,p.lastLineError),i}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,n){t.exports=function(t,n,r,i,o){function a(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function s(e){var r=this._promise=new t(n);e instanceof t&&r._propagateFrom(e,3),r._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(undefined,-2)}var l=e("./util");l.isArray;return l.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function c(e,n){var o=r(this._values,this._promise);if(o instanceof t){o=o._target();var s=o._bitField;if(this._values=o,0==(50397184&s))return this._promise._setAsyncGuaranteed(),o._then(c,this._reject,undefined,this,n);if(0==(33554432&s))return 0!=(16777216&s)?this._reject(o._reason()):this._cancel();o=o._value()}if(null===(o=l.asArray(o))){var u=i("expecting an array or an iterable object but got "+l.classString(o)).reason();return void this._promise._rejectCallback(u,!1)}if(0===o.length)return void(-5===n?this._resolveEmptyArray():this._resolve(a(n)));this._iterate(o)},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var l=r(e[s],i);l instanceof t?(l=l._target(),a=l._bitField):a=null,o?null!==a&&l.suppressUnhandledRejections():null!==a?0==(50397184&a)?(l._proxy(this,s),this._values[s]=l):o=0!=(33554432&a)?this._promiseFulfilled(l._value(),s):0!=(16777216&a)?this._promiseRejected(l._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(l,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,n,r){n.exports=function(n,r){function i(e){return!w.test(e)}function o(e){try{return!0===e.__isPromisified__}catch(t){return!1}}function a(e,t,n){var r=p.getDataPropertyOrDefault(e,t+n,y);return!!r&&o(r)}function s(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new v("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function l(e,t,n,r){for(var i=p.inheritedDataKeys(e),l=[],c=0;c<i.length;++c){var u=i[c],f=e[u],d=r===k||k(u,f,e);"function"!=typeof f||o(f)||a(e,u,t)||!r(u,f,e,d)||l.push(u,f)}return s(l,t,n),l}function c(e,i,o,a,s,l){function c(){var o=i;i===d&&(o=this);var a=new n(r);a._captureStackTrace();var s="string"==typeof f&&this!==u?this[f]:e,c=h(a,l);try{s.apply(o,m(arguments,c))}catch(t){a._rejectCallback(_(t),!0,!0)}return a._isFateSealed()||a._setAsyncGuaranteed(),a}var u=function(){return this}(),f=e;return"string"==typeof f&&(e=a),p.notEnumerableProp(c,"__isPromisified__",!0),c}function u(e,t,n,r,i){for(var o=new RegExp(x(t)+"$"),a=l(e,t,o,n),s=0,c=a.length;s<c;s+=2){var u=a[s],f=a[s+1],h=u+t;if(r===C)e[h]=C(u,d,u,f,t,i);else{var m=r(f,function(){return C(u,d,u,f,t,i)});p.notEnumerableProp(m,"__isPromisified__",!0),e[h]=m}}return p.toFastProperties(e),e}function f(e,t,n){return C(e,t,undefined,e,null,n)}var d={},p=e("./util"),h=e("./nodeback"),m=p.withAppended,_=p.maybeWrapAsError,g=p.canEvaluate,v=e("./errors").TypeError,y={__isPromisified__:!0},b=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],w=new RegExp("^(?:"+b.join("|")+")$"),k=function(e){return p.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},x=function(e){return e.replace(/([$])/,"\\$")},C=g?void 0:c;n.promisify=function(e,t){if("function"!=typeof e)throw new v("expecting a function but got "+p.classString(e));if(o(e))return e;t=Object(t);var n=t.context===undefined?d:t.context,r=!!t.multiArgs,a=f(e,n,r);return p.copyDescriptors(e,a,i),a},n.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new v("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var n=!!t.multiArgs,r=t.suffix;"string"!=typeof r&&(r="Async");var i=t.filter;"function"!=typeof i&&(i=k);var o=t.promisifier;if("function"!=typeof o&&(o=C),!p.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=p.inheritedDataKeys(e),s=0;s<a.length;++s){var l=e[a[s]];"constructor"!==a[s]&&p.isClass(l)&&(u(l.prototype,r,i,o,n),u(l,r,i,o,n))}return u(e,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){t.exports=function(t,n,r,i){function o(e){var t,n=!1;if(s!==undefined&&e instanceof s)t=f(e),n=!0;else{var r=u.keys(e),i=r.length;t=new Array(2*i);for(var o=0;o<i;++o){var a=r[o];t[o]=e[a],t[o+i]=a}}this.constructor$(t),this._isMap=n,this._init$(undefined,n?-6:-3)}function a(e){var n,a=r(e);return c(a)?(n=a instanceof t?a._then(t.props,undefined,undefined,undefined,undefined):new o(a).promise(),a instanceof t&&n._propagateFrom(a,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,l=e("./util"),c=l.isObject,u=e("./es5");"function"==typeof Map&&(s=Map);var f=function(){function e(e,r){this[t]=e,this[t+n]=r,t++}var t=0,n=0;return function(r){n=r.size,t=0;var i=new Array(2*r.size);return r.forEach(e,i),i}}(),d=function(e){for(var t=new s,n=e.length/2|0,r=0;r<n;++r){var i=e[n+r],o=e[r];t.set(i,o)}return t};l.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=d(this._values);else{n={};for(var r=this.length(),i=0,o=this.length();i<o;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return a(this)},t.props=function(e){return a(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){function r(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+t],e[o+t]=void 0}function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},i.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=undefined,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,r(this,0,this,t,this._front+this._length&t-1)},t.exports=i},{}],27:[function(e,t,n){t.exports=function(t,n,r,i){function o(e,o){var l=r(e);if(l instanceof t)return s(l);if(null===(e=a.asArray(e)))return i("expecting an array or an iterable object but got "+a.classString(e));var c=new t(n);o!==undefined&&c._propagateFrom(o,3);for(var u=c._fulfill,f=c._reject,d=0,p=e.length;d<p;++d){var h=e[d];(h!==undefined||d in e)&&t.cast(h)._then(u,f,undefined,c,null)}return c}var a=e("./util"),s=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,undefined)},t.prototype.race=function(){return o(this,undefined)}}},{"./util":36}],28:[function(e,t,n){t.exports=function(t,n,r,i,o,a){function s(e,n,r,i){this.constructor$(e);var a=d();this._fn=null===a?n:p.domainBind(a,n),r!==undefined&&(r=t.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:undefined,this._promise._captureStackTrace(),this._init$(undefined,-5)}function l(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function c(e,t,n,i){return"function"!=typeof t?r("expecting a function but got "+p.classString(t)):new s(e,t,n,i).promise()}function u(e){this.accum=e,this.array._gotAccum(e);var n=i(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(f,undefined,undefined,this,undefined)):f.call(this,n)}function f(e){var n=this.array,r=n._promise,i=h(n._fn);r._pushContext();var o;(o=n._eachValues!==undefined?i.call(r._boundValue(),e,this.index,this.length):i.call(r._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(n._currentCancellable=o);var s=r._popContext();return a.checkForgottenReturns(o,s,n._eachValues!==undefined?"Promise.each":"Promise.reduce",r),o}var d=t._getDomain,p=e("./util"),h=p.tryCatch;p.inherits(s,n),s.prototype._gotAccum=function(e){this._eachValues!==undefined&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},s.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==undefined?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},s.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},s.prototype._iterate=function(e){this._values=e;var n,r,i=e.length;if(this._initialValue!==undefined?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(u,undefined,undefined,o,undefined)}this._eachValues!==undefined&&(n=n._then(this._eachComplete,undefined,undefined,this,undefined)),n._then(l,l,undefined,n,this)},t.prototype.reduce=function(e,t){return c(this,e,t,null)},t.reduce=function(e,t,n,r){return c(e,t,n,r)}}},{"./util":36}],29:[function(e,t,n){var r,i=e("./util"),o=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},a=i.getNativePromise();if(i.isNode&&"undefined"==typeof MutationObserver){var s=Ze.setImmediate,l=process.nextTick;r=i.isRecentNode?function(e){s.call(Ze,e)}:function(e){l.call(process,e)}}else if("function"==typeof a&&"function"==typeof a.resolve){var c=a.resolve();r=function(e){c.then(e)}}else r="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:o:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div");new MutationObserver(function(){e.classList.toggle("foo"),n=!1}).observe(r,t);var i=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(e,t),i()}}();t.exports=r},{"./util":36}],30:[function(e,t,n){t.exports=function(t,n,r){function i(e){this.constructor$(e)}var o=t.PromiseInspection;e("./util").inherits(i,n),i.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(e,t){var n=new o;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},i.prototype._promiseRejected=function(e,t){var n=new o;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return r.deprecated(".settle()",".reflect()"),new i(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){t.exports=function(t,n,r){function i(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(e),o=n.promise();return n.setHowMany(t),n.init(),o}var a=e("./util"),s=e("./errors").RangeError,l=e("./errors").AggregateError,c=a.isArray,u={};a.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(undefined,-5);var e=c(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(e){this._howMany=e},i.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new l,t=this.length();t<this._values.length;++t)this._values[t]!==u&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(e){this._values.push(e)},i.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(e){
var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new s(t)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(e,t,n){t.exports=function(e){function t(e){e!==undefined?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():undefined):(this._bitField=0,this._settledValueField=undefined)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,n,r){n.exports=function(n,r){function i(e,t){if(f(e)){if(e instanceof n)return e;var i=a(e);if(i===u){t&&t._pushContext();var o=n.reject(i.e);return t&&t._popContext(),o}if("function"==typeof i){if(s(e)){var o=new n(r);return e._then(o._fulfill,o._reject,undefined,o,null),o}return l(e,i,t)}}return e}function o(e){return e.then}function a(e){try{return o(e)}catch(t){return u.e=t,u}}function s(e){try{return d.call(e,"_promise0")}catch(t){return!1}}function l(e,t,i){function o(e){s&&(s._resolveCallback(e),s=null)}function a(e){s&&(s._rejectCallback(e,f,!0),s=null)}var s=new n(r),l=s;i&&i._pushContext(),s._captureStackTrace(),i&&i._popContext();var f=!0,d=c.tryCatch(t).call(e,o,a);return f=!1,s&&d===u&&(s._rejectCallback(d.e,!0,!0),s=null),l}var c=e("./util"),u=c.errorObj,f=c.isObject,d={}.hasOwnProperty;return i}},{"./util":36}],34:[function(e,t,n){t.exports=function(t,n,r){function i(e){this.handle=e}function o(e){return clearTimeout(this.handle),e}function a(e){throw clearTimeout(this.handle),e}var s=e("./util"),l=t.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(e){return u(+this).thenReturn(e)},u=t.delay=function(e,o){var a,s;return o!==undefined?(a=t.resolve(o)._then(c,null,null,e,undefined),r.cancellation()&&o instanceof t&&a._setOnCancel(o)):(a=new t(n),s=setTimeout(function(){a._fulfill()},+e),r.cancellation()&&a._setOnCancel(new i(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};t.prototype.delay=function(e){return u(e,this)};var f=function(e,t,n){var r;r="string"!=typeof t?t instanceof Error?t:new l("operation timed out"):new l(t),s.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,s,l=new i(setTimeout(function(){n.isPending()&&f(n,t,s)},e));return r.cancellation()?(s=this.then(),n=s._then(o,a,undefined,l,undefined),n._setOnCancel(l)):n=this._then(o,a,undefined,l,undefined),n}}},{"./util":36}],35:[function(e,n,r){n.exports=function(n,r,i,o,a,s){function l(e){setTimeout(function(){throw e},0)}function c(e){var t=i(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function u(e,r){function o(){if(s>=u)return f._fulfill();var a=c(e[s++]);if(a instanceof n&&a._isDisposable()){try{a=i(a._getDisposer().tryDispose(r),e.promise)}catch(t){return l(t)}if(a instanceof n)return a._then(o,l,null,null,null)}o()}var s=0,u=e.length,f=new n(a);return o(),f}function f(e,t,n){this._data=e,this._promise=t,this._context=n}function d(e,t,n){this.constructor$(e,t,n)}function p(e){return f.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function h(e){this.length=e,this.promise=null,this[e-1]=null}var m=e("./util"),_=e("./errors").TypeError,g=e("./util").inherits,v=m.errorObj,y=m.tryCatch,b={};f.prototype.data=function(){return this._data},f.prototype.promise=function(){return this._promise},f.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():b},f.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;n!==undefined&&n._pushContext();var r=t!==b?this.doDispose(t,e):null;return n!==undefined&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},f.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},g(d,f),d.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},h.prototype._resultCancelled=function(){for(var e=this.length,t=0;t<e;++t){var r=this[t];r instanceof n&&r.cancel()}},n.using=function(){var e=arguments.length;if(e<2)return r("you must pass at least 2 arguments to Promise.using");var t=arguments[e-1];if("function"!=typeof t)return r("expecting a function but got "+m.classString(t));var o,a=!0;2===e&&Array.isArray(arguments[0])?(o=arguments[0],e=o.length,a=!1):(o=arguments,e--);for(var l=new h(e),c=0;c<e;++c){var d=o[c];if(f.isDisposer(d)){var _=d;d=d.promise(),d._setDisposable(_)}else{var g=i(d);g instanceof n&&(d=g._then(p,null,null,{resources:l,index:c},undefined))}l[c]=d}for(var b=new Array(l.length),c=0;c<b.length;++c)b[c]=n.resolve(l[c]).reflect();var w=n.all(b).then(function(e){for(var n=0;n<e.length;++n){var r=e[n];if(r.isRejected())return v.e=r.error(),v;if(!r.isFulfilled())return void w.cancel();e[n]=r.value()}k._pushContext(),t=y(t);var i=a?t.apply(undefined,e):t(e),o=k._popContext();return s.checkForgottenReturns(i,o,"Promise.using",k),i}),k=w.lastly(function(){var e=new n.PromiseInspection(w);return u(l,e)});return l.promise=k,k._setOnCancel(l),k},n.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},n.prototype._isDisposable=function(){return(131072&this._bitField)>0},n.prototype._getDisposer=function(){return this._disposer},n.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=undefined},n.prototype.disposer=function(e){if("function"==typeof e)return new d(e,this,o());throw new _}}},{"./errors":12,"./util":36}],36:[function(e,n,r){function i(){try{var e=A;return A=null,e.apply(this,arguments)}catch(t){return F.e=t,F}}function o(e){return A=e,i}function a(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function s(e){return"function"==typeof e||"object"==typeof e&&null!==e}function l(e){return a(e)?new Error(g(e)):e}function c(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];return i[n]=t,i}function u(e,t,n){if(!T.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:undefined;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function f(e,t,n){if(a(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return T.defineProperty(e,t,r),e}function d(e){throw e}function p(e){try{if("function"==typeof e){var t=T.names(e.prototype),n=T.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=N.test(e+"")&&T.names(e).length>0;if(n||r||i)return!0}return!1}catch(t){return!1}}function h(e){return e}function m(e){return D.test(e)}function _(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r}function g(e){try{return e+""}catch(t){return"[no string representation]"}}function v(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function y(e){try{f(e,"isOperational",!0)}catch(t){}}function b(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function w(e){return v(e)&&T.propertyIsWritable(e,"stack")}function k(e){return{}.toString.call(e)}function x(e,t,n){for(var r=T.names(e),i=0;i<r.length;++i){var o=r[i];if(n(o))try{T.defineProperty(t,o,T.getDescriptor(e,o))}catch(a){}}}function C(e){return V?process.env[e]:undefined}function j(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(t){}}function E(e,t){return e.bind(t)}var T=e("./es5"),P="undefined"==typeof navigator,F={e:{}},A,O="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==Ze?Ze:this!==undefined?this:null,S=function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var r={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},R=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(T.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(t){return r}for(var a=0;a<o.length;++a){var s=o[a];if(!i[s]){i[s]=!0;var l=Object.getOwnPropertyDescriptor(e,s);null!=l&&null==l.get&&null==l.set&&r.push(s)}}e=T.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<e.length;++a)if(r.call(e[a],o))continue e;i.push(o)}return i}}(),N=/this\s*\.\s*\S+\s*=/,D=/^[a-z$_][a-z$_0-9]*$/i,I=function(){return"stack"in new Error?function(e){return w(e)?e:new Error(g(e))}:function(e){if(w(e))return e;try{throw new Error(g(e))}catch(t){return t}}}(),M=function(e){return T.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var L="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};M=function(e){return T.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?L(e):null}}var B="undefined"!=typeof process&&"[object process]"===k(process).toLowerCase(),V="undefined"!=typeof process&&"undefined"!=typeof process.env,H={isClass:p,isIdentifier:m,inheritedDataKeys:R,getDataPropertyOrDefault:u,thrower:d,isArray:T.isArray,asArray:M,notEnumerableProp:f,isPrimitive:a,isObject:s,isError:v,canEvaluate:P,errorObj:F,tryCatch:o,inherits:S,withAppended:c,maybeWrapAsError:l,toFastProperties:h,filledRange:_,toString:g,canAttachTrace:w,ensureErrorObject:I,originatesFromRejection:b,markAsOriginatingFromRejection:y,classString:k,copyDescriptors:x,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:B,hasEnvVariables:V,env:C,global:O,getNativePromise:j,domainBind:E};H.isRecentNode=H.isNode&&function(){var e=process.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),H.isNode&&H.toFastProperties(process);try{throw new Error}catch(t){H.lastLineError=t}n.exports=H},{"./es5":13}]},{},[4])(4)}()}(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}),tt=1e3,nt=60*tt,rt=60*nt,it=24*rt,ot=365.25*it,at=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return r(e);if("number"===n&&!1===isNaN(e))return t["long"]?o(e):i(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))},st=n(function(e,t){function n(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function r(e){function r(){if(r.enabled){var e=r,n=+new Date,i=n-(l||n);e.diff=i,e.prev=l,e.curr=n,l=n;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;s++;var i=t.formatters[r];if("function"==typeof i){var a=o[s];n=i.call(e,a),o.splice(s,1),s--}return n}),t.formatArgs.call(e,o);(r.log||t.log||console.log.bind(console)).apply(e,o)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=n(e),"function"==typeof t.init&&t.init(r),r}function i(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&(e=n[i].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function o(){t.enable("")}function a(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function s(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=r.debug=r["default"]=r,t.coerce=s,t.disable=o,t.enable=i,t.enabled=a,t.humanize=at,t.names=[],t.skips=[],t.formatters={};var l}),lt=st.coerce,ct=st.disable,ut=st.enable,ft=st.enabled,dt=st.humanize,pt=st.names,ht=st.skips,mt=st.formatters,_t=n(function(e,t){function n(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function r(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r)}}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}}function a(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}t=e.exports=st,t.log=i,t.formatArgs=r,t.save=o,t.load=a,t.useColors=n,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(a())}),gt=_t.log,vt=_t.formatArgs,yt=_t.save,bt=_t.load,wt=_t.useColors,kt=_t.storage,xt=_t.colors,Ct=_t("jsonp"),jt=l,Et=0;m.prototype.next=function(e,t,n,r,i){var r=($e[r]||$e.youlike).value;this.reqTimes=h(i)?this.reqTimes:i;var o="",a={showid:t,djsource:t,of:4,newf:1,type:1,reqtimes:this.reqTimes,cid:r,news_impct:e,ad_impact:0};return this.host="info.mediav.com","https:"===document.location.protocol?(a.scheme="https",o="https://"+this.host+"/s?"+c(a)):o="http://"+this.host+"/s?"+c(a),this.reqTimes++,new et(function(e,t){jt(o,{param:"jsonp",timeout:5e3,prefix:Qe+(new Date).getTime()},function(t,n){if(t&&e({}),h(n)||h(n.ads))return void e({});e(n)})})},m.prototype.fill=function(e){var t=(e.clktk||[]).join(",");return{pv:(e.imptk||[]).join(","),clk:t}};var Tt=new m;_.prototype.next=function(e,t,n){this.pn=n==undefined?this.pn:n;var r=We.options.tck,i={type:1,of:4,newf:1,uid:We.UID,showid:t,reqtimes:this.pn,impct:e,scheme:"https:"==document.location.protocol?"https":"http"};r&&(i.tck=r);var o="";return o="https"===i.scheme?"https://show-f.mediav.com/s?"+c(i):"http://show.f.mediav.com/s?"+c(i),this.pn++,new et(function(e,t){jt(o,{param:"jsonp",timeout:5e3,prefix:Qe+(new Date).getTime()},function(t,n){t&&e({}),e(n)})})},_.prototype.fill=function(e){return{pv:e.imptk&&e.imptk.join(","),clk:e.clktk&&e.clktk.join(",")}},_.prototype.setTrackingParameters=function(e,t){var n="";return p(e)||(n+=e.replace("#{clk}",'data-clk="'+t.clktk.join(",")+'"').replace("#{pv}",'data-pv="'+t.imptk.join(",")+'"')),n};var Pt=new _;g.prototype.next=function(e,t,n){this.pn=h(n)?this.pn:n;var r={type:1,of:4,newf:1,uid:We.UID,showid:"yQci0x",impct:e,scheme:"https:"===document.location.protocol?"https":"http"},i="";i="https"===r.scheme?"https://show-3.mediav.com/s?"+c(r):"http://show.3.mediav.com/s?"+c(r);var o=this.group++;this.pn++;var a=this;return new et(function(e,t){jt(i,{param:"jsonp",timeout:5e3,prefix:Qe+(new Date).getTime()},function(t,n){t&&e({}),n.group=o,n.adstk&&(a.adstk[o]=n.adstk),e(n)})})},g.prototype.setTrackingParameters=function(e,t,n){var r="",i="";return n.impurl&&(i=","+n.impurl+t.imparg),p(e)||(r+=e.replace("#{clk}",'data-clk="'+t.clktk.join(",")+'"').replace("#{pv}",'data-pv="'+t.imptk.join(",")+i+'" data-group="'+n.group+'"')),r},g.prototype.fill=function(e,t){var n="";t.impurl&&(n=","+t.impurl+e.imparg);var r=e.imptk?e.imptk:[],i=e.clktk?e.clktk:[];return{pv:r.join(",")+n,clk:i.join(","),group:t.group}};var Ft=new g,At="object"==typeof Ze&&Ze&&Ze.Object===Object&&Ze,Ot=At,St="object"==typeof self&&self&&self.Object===Object&&self,Rt=Ot||St||Function("return this")(),Nt=Rt,Dt=Nt.Symbol,It=Dt,Mt=Object.prototype,Lt=Mt.hasOwnProperty,Bt=Mt.toString,Vt=It?It.toStringTag:undefined,Ht=I,Ut=Object.prototype,qt=Ut.toString,zt=M,$t="[object Null]",Qt="[object Undefined]",Wt=It?It.toStringTag:undefined,Xt=L,Gt=B,Jt="[object AsyncFunction]",Kt="[object Function]",Yt="[object GeneratorFunction]",Zt="[object Proxy]",en=V,tn=Nt["__core-js_shared__"],nn=tn,rn=function(){var e=/[^.]+$/.exec(nn&&nn.keys&&nn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),on=H,an=Function.prototype,sn=an.toString,ln=U,cn=/[\\^$.*+?()[\]{}|]/g,un=/^\[object .+?Constructor\]$/,fn=Function.prototype,dn=Object.prototype,pn=fn.toString,hn=dn.hasOwnProperty,mn=RegExp("^"+pn.call(hn).replace(cn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_n=q,gn=z,vn=$,yn=function(){try{var e=vn(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),bn=yn,wn=Q,kn=W,xn=Object.prototype,Cn=xn.hasOwnProperty,jn=X,En=G,Tn=J,Pn=K,Fn=Math.max,An=Y,On=Z,Sn=bn?function(e,t){return bn(e,"toString",{configurable:!0,enumerable:!1,value:On(t),writable:!0})}:Tn,Rn=Sn,Nn=800,Dn=16,In=Date.now,Mn=ee,Ln=Mn(Rn),Bn=Ln,Vn=te,Hn=9007199254740991,Un=ne,qn=re,zn=9007199254740991,$n=/^(?:0|[1-9]\d*)$/,Qn=ie,Wn=oe,Xn=ae,Gn=Object.prototype,Jn=se,Kn=le,Yn=ce,Zn="[object Arguments]",er=ue,tr=Object.prototype,nr=tr.hasOwnProperty,rr=tr.propertyIsEnumerable,ir=er(function(){return arguments}())?er:function(e){return Yn(e)&&nr.call(e,"callee")&&!rr.call(e,"callee")},or=ir,ar=Array.isArray,sr=ar,lr=fe,cr=n(function(e,t){var n=t&&!t.nodeType&&t,r=n&&!0&&e&&!e.nodeType&&e,i=r&&r.exports===n,o=i?Nt.Buffer:undefined,a=o?o.isBuffer:undefined,s=a||lr;e.exports=s}),ur="[object Arguments]",fr="[object Array]",dr="[object Boolean]",pr="[object Date]",hr="[object Error]",mr="[object Function]",_r="[object Map]",gr="[object Number]",vr="[object Object]",yr="[object RegExp]",br="[object Set]",wr="[object String]",kr="[object WeakMap]",xr="[object ArrayBuffer]",Cr="[object DataView]",jr="[object Float32Array]",Er="[object Float64Array]",Tr="[object Int8Array]",Pr="[object Int16Array]",Fr="[object Int32Array]",Ar="[object Uint8Array]",Or="[object Uint8ClampedArray]",Sr="[object Uint16Array]",Rr="[object Uint32Array]",Nr={};Nr[jr]=Nr[Er]=Nr[Tr]=Nr[Pr]=Nr[Fr]=Nr[Ar]=Nr[Or]=Nr[Sr]=Nr[Rr]=!0,Nr[ur]=Nr[fr]=Nr[xr]=Nr[dr]=Nr[Cr]=Nr[pr]=Nr[hr]=Nr[mr]=Nr[_r]=Nr[gr]=Nr[vr]=Nr[yr]=Nr[br]=Nr[wr]=Nr[kr]=!1;var Dr=de,Ir=pe,Mr=n(function(e,t){var n=t&&!t.nodeType&&t,r=n&&!0&&e&&!e.nodeType&&e,i=r&&r.exports===n,o=i&&Ot.process,a=function(){try{return o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a}),Lr=Mr&&Mr.isTypedArray,Br=Lr?Ir(Lr):Dr,Vr=Br,Hr=Object.prototype,Ur=Hr.hasOwnProperty,qr=he,zr=me,$r=zr(Object.keys,Object),Qr=$r,Wr=Object.prototype,Xr=Wr.hasOwnProperty,Gr=_e,Jr=ge,Kr=Object.prototype,Yr=Kr.hasOwnProperty,Zr=Xn(function(e,t){if(Jn(t)||qn(t))return void En(t,Jr(t),e);for(var n in t)Yr.call(t,n)&&jn(e,n,t[n])}),ei=Zr,ti=n(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),ni=n(function(e){var t=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=t)}),ri=ni.version,ii=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},oi=function(e,t,n){if(ii(e),t===undefined)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},ai=function(e){return"object"==typeof e?null!==e:"function"==typeof e},si=function(e){if(!ai(e))throw TypeError(e+" is not an object!");return e},li=function(e){try{return!!e()}catch(t){return!0}},ci=!li(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),ui=ti.document,fi=ai(ui)&&ai(ui.createElement),di=function(e){return fi?ui.createElement(e):{}},pi=!ci&&!li(function(){return 7!=Object.defineProperty(di("div"),"a",{get:function(){return 7}}).a}),hi=function(e,t){if(!ai(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!ai(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!ai(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!ai(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},mi=Object.defineProperty,_i=ci?Object.defineProperty:function(e,t,n){if(si(e),t=hi(t,!0),si(n),pi)try{return mi(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e},gi={f:_i},vi=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},yi=ci?function(e,t,n){return gi.f(e,t,vi(1,n))}:function(e,t,n){return e[t]=n,e},bi={}.hasOwnProperty,wi=function(e,t){return bi.call(e,t)},ki="prototype",xi=function(e,t,n){var r,i,o,a=e&xi.F,s=e&xi.G,l=e&xi.S,c=e&xi.P,u=e&xi.B,f=e&xi.W,d=s?ni:ni[t]||(ni[t]={}),p=d[ki],h=s?ti:l?ti[t]:(ti[t]||{})[ki];s&&(n=t);for(r in n)(i=!a&&h&&h[r]!==undefined)&&wi(d,r)||(o=i?h[r]:n[r],d[r]=s&&"function"!=typeof h[r]?n[r]:u&&i?oi(o,ti):f&&h[r]==o?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[ki]=e[ki],t}(o):c&&"function"==typeof o?oi(Function.call,o):o,c&&((d.virtual||(d.virtual={}))[r]=o,e&xi.R&&p&&!p[r]&&yi(p,r,o)))};xi.F=1,xi.G=2,xi.S=4,xi.P=8,xi.B=16,xi.W=32,xi.U=64,xi.R=128;var Ci=xi,ji={}.toString,Ei=function(e){return ji.call(e).slice(8,-1)},Ti=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==Ei(e)?e.split(""):Object(e)},Pi=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e},Fi=function(e){return Ti(Pi(e))},Ai=Math.ceil,Oi=Math.floor,Si=function(e){return isNaN(e=+e)?0:(e>0?Oi:Ai)(e)},Ri=Math.min,Ni=function(e){return e>0?Ri(Si(e),9007199254740991):0},Di=Math.max,Ii=Math.min,Mi=function(e,t){return e=Si(e),e<0?Di(e+t,0):Ii(e,t)},Li=function(e){return function(t,n,r){var i,o=Fi(t),a=Ni(o.length),s=Mi(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},Bi=!0,Vi=n(function(e){var t=ti["__core-js_shared__"]||(ti["__core-js_shared__"]={});(e.exports=function(e,n){return t[e]||(t[e]=n!==undefined?n:{})})("versions",[]).push({version:ni.version,mode:Bi?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})}),Hi=0,Ui=Math.random(),qi=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++Hi+Ui).toString(36))},zi=Vi("keys"),$i=function(e){return zi[e]||(zi[e]=qi(e))},Qi=Li(!1),Wi=$i("IE_PROTO"),Xi=function(e,t){var n,r=Fi(e),i=0,o=[];for(n in r)n!=Wi&&wi(r,n)&&o.push(n);for(;t.length>i;)wi(r,n=t[i++])&&(~Qi(o,n)||o.push(n));return o},Gi="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Ji=Object.keys||function(e){return Xi(e,Gi)},Ki=Object.getOwnPropertySymbols,Yi={f:Ki},Zi={}.propertyIsEnumerable,eo={f:Zi},to=function(e){return Object(Pi(e))},no=Object.assign,ro=!no||li(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=no({},e)[n]||Object.keys(no({},t)).join("")!=r})?function(e,t){for(var n=to(e),r=arguments.length,i=1,o=Yi.f,a=eo.f;r>i;)for(var s,l=Ti(arguments[i++]),c=o?Ji(l).concat(o(l)):Ji(l),u=c.length,f=0;u>f;)s=c[f++],ci&&!a.call(l,s)||(n[s]=l[s]);return n}:no;Ci(Ci.S+Ci.F,"Object",{assign:ro});var io=ni.Object.assign,oo=n(function(e){e.exports={"default":io,__esModule:!0}});t(oo);var ao=n(function(e,t){t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{"default":e}}(oo);t["default"]=n["default"]||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}}),so=t(ao),lo=n(function(e,t){t.__esModule=!0,t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}),co=t(lo);Ci(Ci.S+Ci.F*!ci,"Object",{defineProperty:gi.f});var uo=ni.Object,fo=function(e,t,n){return uo.defineProperty(e,t,n)},po=n(function(e){e.exports={"default":fo,__esModule:!0}});t(po);var ho=n(function(e,t){t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{"default":e}}(po);t["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,n["default"])(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()}),mo=t(ho),_o=function(e,t,n){return n=n||/\{([^\{\}]*)\}/g,e.replace(n,function(e,n){var r=t[n];return"string"==typeof r||"number"==typeof r?r:e})},go='<div class="component news" data-link="" #{pv} #{clk} >\r\n  <a class="feed-link" target="{linkTarget}" href="{link}">\r\n    <div class="img" style="background-image: url(\'{img}\');">\r\n      {adTag}\r\n    </div>\r\n    <p>{title}</p>\r\n  </a>\r\n</div>',vo=function(){function e(){co(this,e)}return mo(e,[{key:"renderAd",value:function(e,t,n){var r=[],i=t.tabs[n];if(h(e)||h(e.ads)||p(e.ads))return[];for(var o=0;o<e.ads.length;o++){var a=e.ads[o],s=so({},a,{title:a.title||a.desc}),l=Ee(s,"ad"),c=Pt.setTrackingParameters(l,a,e,i.sign,i.c,i.showid);r.push(c)}return r}},{key:"renderFeed",value:function(e,t,n){var r=[];t.tabs[n];if(h(e)||h(e.ads))return[];for(var i=0;i<e.ads.length;i++){var o=e.ads[i];if(!p(o.img)){var a={title:o.title||"",img:o.img,curl:o.curl||""},s=Ee(a,"feed");r.push(s)}}return r}},{key:"mix",value:function(e,t,n,r){var i=n.tabs[r];if(p(e)||p(t))return e.concat(t);for(var o=Ge[i.layout].indexArr,a=0,s=0;s<o.length;s++)a<t.length&&o[s]<e.length&&(e.splice(o[s],0,t[a]),a++);return a<t.length&&(e=e.concat(t.slice(a))),e.join("\n")}},{key:"update",value:function(e,t){var n=Ge.style2,r=t.tabs[e];We.miniPage[e].lock=!0,et.all([Tt.next(n.feedNum,r.showid,r.showid,r.c,t),Pt.next(n.adNum,r.showid,We.miniPage[e].adPage++),Ft.next(1,t,1)]).then(function(n){var r=this.renderFeed(n[0],t,e),i=this.renderAd(n[1],t,e),o=this.renderAd(n[2],t,e);r.length>=3&&(r.splice(3,0,o[0]),r.pop());var a=this.mix(r,i,t,e);We.miniPage[e].contentDiv.innerHTML+=a,We.miniPage[e].loadedCount+=r.length+i.length,We.miniPage[e].lock=!1,N(We.currentIndex)}.bind(this)).caught(function(e){})}}]),e}(),yo=new vo,bo=function(){return Nt.Date.now()},wo=bo,ko="[object Symbol]",xo=Ie,Co=NaN,jo=/^\s+|\s+$/g,Eo=/^[-+]0x[0-9a-f]+$/i,To=/^0b[01]+$/i,Po=/^0o[0-7]+$/i,Fo=parseInt,Ao=Me,Oo="Expected a function",So=Math.max,Ro=Math.min,No=Le,Do="Expected a function",Io=Be;document.querySelectorAll||(document.querySelectorAll=function(e){var t,n=document.createElement("style"),r=[];for(document.documentElement.firstChild.appendChild(n),document._qsa=[],n.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),n.parentNode.removeChild(n);document._qsa.length;)t=document._qsa.shift(),t.style.removeAttribute("x-qsa"),r.push(t);return document._qsa=null,r}),document.querySelector||(document.querySelector=function(e){var t=document.querySelectorAll(e);return t.length?t[0]:null});var Mo=function(){function e(e,t){var r=""===e.id;r&&(++n,e.id="__qsa"+n);try{return document.querySelectorAll("#"+e.id+" "+t)}finally{r&&(e.id="")}}function t(e,t){return e.querySelectorAll(t)}var n=1e4;return document.createElement("div").querySelectorAll?t:e}(),Lo=No(function(){return N(We.currentIndex)
},50),Bo="* {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n/*p,.title{*/\r\n/*font-size: 14px !important;*/\r\n/*}*/\r\na {\r\n    text-decoration: none;\r\n}\r\n\r\n.hidden {\r\n    display: none;\r\n}\r\n\r\nimg {\r\n    display: inline-block;\r\n    outline: none;\r\n    border: none;\r\n}\r\n\r\n.mini-page {\r\n    width: 740px;\r\n    height: 580px;\r\n    font-family: PingFangSC-Regular;\r\n    overflow-x: hidden;\r\n    /*border: 1px solid #ccc;*/\r\n    position: relative;\r\n}\r\n\r\n.nav {\r\n    height: 40px;\r\n    background: #F8F8F8;\r\n    padding-left: 28px;\r\n    /*padding-right: 28px;*/\r\n    font-size: 0;\r\n    width: 100%;\r\n    /*overflow: hidden;*/\r\n    overflow-y: hidden;\r\n}\r\n\r\n.nav a {\r\n    display: inline-block;\r\n    line-height: 38px;\r\n    /*width: 48px;*/\r\n    padding: 0 10px;\r\n    margin-right: 10px;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    color: #333;\r\n    border-bottom: 2px solid transparent;\r\n    float: left;\r\n    _border-color: tomato;\r\n    _filter: chroma(color=tomato);\r\n    white-space: nowrap;\r\n    cursor: pointer;\r\n}\r\n\r\n.nav .active {\r\n    border-bottom: 2px solid #DD3635;\r\n}\r\n\r\n.main {\r\n    height: 540px;\r\n    width: 100%;\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n    font-family: \"\u5fae\u8f6f\u96c5\u9ed1\";\r\n    position: relative;\r\n}\r\n\r\n.content {\r\n    overflow-x: hidden;\r\n    /*font-size: 0;*/\r\n}\r\n\r\n.img, .windowImg {\r\n    position: relative;\r\n    background-size: cover;\r\n    zoom: 1;\r\n}\r\n\r\n.windowImg .window-item__title {\r\n    width: 100%;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    filter: progid:DXImageTransform.Microsoft.gradient(startcolorstr=#88000000, endcolorstr=#88000000);\r\n    color: #fff;\r\n    font-size: 13px;\r\n    line-height: 1.5;\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.style-1,\r\n.style-2,\r\n.style-3,\r\n.style-4 {\r\n    padding-left: 0.5em;\r\n    width: 36.5em;\r\n}\r\n\r\n.load-more {\r\n    position: absolute;\r\n    left: 50%;\r\n    bottom: 0;\r\n    z-index: 100;\r\n    width: 562px;\r\n    height: 43px;\r\n    \r\n    /*width: 28.1em;*/\r\n    /*height: 2em;*/\r\n    margin-left: -281px;\r\n    /*border-radius: 50% / 100% 100% 0 0;*/\r\n    line-height: 2.2em;\r\n    text-align: center;\r\n    color: #fff;\r\n    /*background-image: linear-gradient(-90deg, #70BDFF 10%, #0088FF 50%, #70BDFF 87%);*/\r\n    background: url(\"//p1.ssl.qhimg.com/t0190abb7fff81fd3c9.png\");\r\n    _background: none;\r\n    _filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true', sizingMethod='scale', src='//p1.ssl.qhimg.com/t0190abb7fff81fd3c9.png');\r\n    background-size: cover;\r\n    background-repeat: no-repeat;\r\n    background-position: center bottom;\r\n}\r\n\r\n/*\u6837\u5f0f1\u5206\u5272\u7ebf*/\r\n.style-1 .four-in-one {\r\n    overflow-x: hidden;\r\n    zoom: 1;\r\n}\r\n\r\n.four-in-one .normal {\r\n    float: left;\r\n}\r\n\r\n.normal {\r\n    padding-top: 10px;\r\n    border-bottom: 1px solid #e7e7e7;\r\n    overflow: hidden;\r\n}\r\n\r\n.normal .img {\r\n    margin-right: 0.5em;\r\n    float: left;\r\n}\r\n\r\n.normal .title,\r\n.normal p {\r\n    float: left;\r\n    display: inline-block;\r\n    font-size: 13px;\r\n    color: #333333;\r\n    line-height: 20px;\r\n    vertical-align: top;\r\n    height: 40px;\r\n    overflow: hidden;\r\n}\r\n\r\n.style-1 .multiple,\r\n.style-1 .normal {\r\n    display: inline-block;\r\n    /*width: 350px;*/\r\n    width: 17.5em;\r\n    /*height: 93px;*/\r\n    padding-bottom: 10px;\r\n    margin-right: 0.5em;\r\n}\r\n\r\n.style-1 .normal .img {\r\n    /*width: 135px;*/\r\n    width: 6.75em;\r\n    /*height: 75px;*/\r\n    height: 3.75em;\r\n    float: left;\r\n    margin-right: 0.5em;\r\n}\r\n\r\n.style-1 .normal a {\r\n    position: relative;\r\n    zoom: 1;\r\n}\r\n\r\n.style-1 .normal .title,\r\n.style-1 .normal p {\r\n    /*width: 200px;*/\r\n    width: 57%;\r\n}\r\n\r\n.style-1 .feed-link:hover p,\r\n.style-1 .feed-link:hover .title {\r\n    color: #bd0a01;\r\n}\r\n\r\n.style-1 .three-in-one {\r\n    overflow: hidden;\r\n}\r\n\r\n.style-1 .three-in-one .normal {\r\n    margin-right: 0;\r\n}\r\n\r\n.style-1 .three-in-one .single,\r\n.style-1 .three-in-one .double {\r\n    float: left;\r\n    display: inline-block;\r\n    /*width: 350px;*/\r\n    width: 17.5em;\r\n    margin-right: 0.5em;\r\n}\r\n\r\n.style-1 .three-in-one .single {\r\n    vertical-align: top;\r\n    /*height: 191px;*/\r\n    height: 9.55em;\r\n    border-bottom: 1px solid #e7e7e7;\r\n}\r\n\r\n.style-1 .three-in-one .normal {\r\n    float: left;\r\n}\r\n\r\n.style-1 .three-in-one .large {\r\n    padding-top: 10px;\r\n    position: relative;\r\n    zoom: 1;\r\n}\r\n\r\n.multiple p,\r\n.large p {\r\n    font-size: 13px;\r\n    color: #333333;\r\n    line-height: 20px;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.multiple p {\r\n    height: 20px;\r\n    overflow: hidden;\r\n}\r\n\r\n.large p {\r\n    height: 20px;\r\n    overflow: hidden;\r\n}\r\n\r\n.style-1 .large .img {\r\n    /*width: 350px;*/\r\n    width: 17.5em;\r\n    /*height: 116.7px;*/\r\n    height: 5.875em;\r\n}\r\n\r\n.multiple {\r\n}\r\n\r\n.multiple .img {\r\n    width: 110px;\r\n    height: 61.1px;\r\n    margin-right: 8px;\r\n}\r\n\r\n.multiple .last {\r\n    margin-right: 0;\r\n}\r\n\r\n/*\u6837\u5f0f2\u5206\u5272\u7ebf*/\r\n.style-2 .news {\r\n    display: inline-block;\r\n    float: left;\r\n    /*width: 170px;*/\r\n    width: 8.5em;\r\n    margin-right: 0.5em;\r\n    padding-top: 11px;\r\n    /*font-size: 0;*/\r\n}\r\n\r\n.style-2 .news a {\r\n    display: block;\r\n    position: relative;\r\n}\r\n\r\n.style-2 .news .ad {\r\n    bottom: 0;\r\n}\r\n\r\n.style-2 .news a:hover p {\r\n    color: #bd0a01;\r\n}\r\n\r\n.style-2 .img {\r\n    /*width: 170px;*/\r\n    width: 8.5em;\r\n    /*height: 95px;*/\r\n    height: 4.75em;\r\n    margin-bottom: 6px;\r\n    background-size: cover;\r\n    position: relative;\r\n}\r\n\r\n.style-2 .news p {\r\n    font-size: 13px;\r\n    color: #333333;\r\n    text-align: left;\r\n    line-height: 20px;\r\n    height: 40px;\r\n    overflow: hidden;\r\n}\r\n\r\n/*\u6837\u5f0f3\u5206\u5272\u7ebf*/\r\n.style-4 .img,\r\n.style-3 .img {\r\n    /*width: 110px;*/\r\n    /*height: 61.1px;*/\r\n    width: 5.5em;\r\n    height: 3em;\r\n}\r\n\r\n.style-4 .windowImg,\r\n.style-3 .windowImg {\r\n    width: 5.5em;\r\n    height: 5.5em;\r\n}\r\n\r\n.feed {\r\n    /*width: 460px;*/\r\n    width: 23em;\r\n}\r\n\r\n.feed .normal {\r\n    padding-bottom: 10px;\r\n    /*height: 80px;*/\r\n    overflow: hidden;\r\n    zoom: 1;\r\n}\r\n\r\n.feed .normal a {\r\n    position: relative;\r\n}\r\n\r\n.feed .normal .title {\r\n    /*width: 336px;*/\r\n    /*width: 26em;*/\r\n    width: 72.5%;\r\n}\r\n\r\n.feed .normal .img {\r\n    float: left;\r\n    margin-right: 0.5em;\r\n}\r\n\r\n.feed .multiple {\r\n    padding-top: 10px;\r\n    padding-bottom: 10px;\r\n    border-bottom: 1px solid #e7e7e7;\r\n    overflow: hidden;\r\n    position: relative;\r\n    zoom: 1;\r\n}\r\n\r\n.feed .multiple p {\r\n    margin-bottom: 6px;\r\n}\r\n\r\n.feed .multiple .img,\r\n.feed .multiple .windowImg {\r\n    margin-right: 0.25em;\r\n}\r\n\r\n.feed .multiple .last {\r\n    margin-right: 0;\r\n}\r\n\r\n.feed .large {\r\n    padding-top: 10px;\r\n    padding-bottom: 10px;\r\n    border-bottom: 1px solid #e7e7e7;\r\n    position: relative;\r\n    zoom: 1;\r\n}\r\n\r\n.feed-link:hover p,\r\n.feed-link:hover .title {\r\n    color: #bd0a01;\r\n}\r\n\r\n.feed .large .img {\r\n    /*width: 460px;*/\r\n    width: 23em;\r\n    height: 7.66em;\r\n}\r\n\r\n.fixed {\r\n    position: absolute;\r\n    /*width: 250px;*/\r\n    width: 12.25em;\r\n    padding-top: 10px;\r\n    overflow: hidden;\r\n    _top: expression(document.getElementById('main').scrollTop);\r\n}\r\n\r\n.sm {\r\n    /*height: 62px;*/\r\n    margin-bottom: 10px;\r\n    overflow: hidden;\r\n    position: relative;\r\n    zoom: 1;\r\n}\r\n\r\n.sm .img {\r\n    float: left;\r\n    margin-right: 0.25em;\r\n}\r\n\r\n.sm .title {\r\n    display: inline-block;\r\n    font-size: 13px;\r\n    color: #333333;\r\n    /*width: 115px;*/\r\n    width: 48%;\r\n    vertical-align: top;\r\n    height: 40px;\r\n    line-height: 20px;\r\n    overflow: hidden;\r\n}\r\n\r\n.sm .ad {\r\n    right: 0;\r\n}\r\n\r\n.xs {\r\n    float: left;\r\n    display: inline-block;\r\n    width: 5.5em;\r\n    margin-right: 0.5em;\r\n    margin-bottom: 11px;\r\n    position: relative;\r\n}\r\n\r\n.xs p {\r\n    font-size: 13px;\r\n    color: #333333;\r\n    height: 40px;\r\n    line-height: 20px;\r\n    overflow: hidden;\r\n}\r\n\r\n.xs .img {\r\n    margin-bottom: 2px;\r\n    \r\n}\r\n\r\n.multiple .img,\r\n.multiple .windowImg {\r\n    float: left;\r\n}\r\n\r\n.ad {\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 0;\r\n    padding: 0 2px;\r\n    height: 12px;\r\n    background: rgb(0, 0, 0);\r\n    opacity: 0.5;\r\n    filter: Alpha(opacity=50);\r\n    /*-pie-background: rgba(0, 0, 0, .5);*/\r\n    font-size: 8px;\r\n    color: #FFFFFF;\r\n    line-height: 12px;\r\n    text-align: center;\r\n}\r\n\r\n.feed-link {\r\n    overflow: hidden;\r\n    display: block;\r\n    cursor: pointer;\r\n}\r\n\r\n.component {\r\n    overflow: hidden;\r\n}";return ze}();